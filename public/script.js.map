{"version":3,"file":"script.js","mappings":"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","sources":["webpack:///./resources/js/adapter.js","webpack:///./resources/js/utils.js","webpack:///./resources/js/video-sessions-manager.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.adapter = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    /* eslint-env node */\n\n    'use strict';\n\n    var _adapter_factory = require('./adapter_factory.js');\n\n    var adapter = (0, _adapter_factory.adapterFactory)({ window: typeof window === 'undefined' ? undefined : window });\n    module.exports = adapter; // this is the difference from adapter_core.\n\n  },{\"./adapter_factory.js\":2}],2:[function(require,module,exports){\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.adapterFactory = adapterFactory;\n\n    var _utils = require('./utils');\n\n    var utils = _interopRequireWildcard(_utils);\n\n    var _chrome_shim = require('./chrome/chrome_shim');\n\n    var chromeShim = _interopRequireWildcard(_chrome_shim);\n\n    var _firefox_shim = require('./firefox/firefox_shim');\n\n    var firefoxShim = _interopRequireWildcard(_firefox_shim);\n\n    var _safari_shim = require('./safari/safari_shim');\n\n    var safariShim = _interopRequireWildcard(_safari_shim);\n\n    var _common_shim = require('./common_shim');\n\n    var commonShim = _interopRequireWildcard(_common_shim);\n\n    var _sdp = require('sdp');\n\n    var sdp = _interopRequireWildcard(_sdp);\n\n    function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// Shimming starts here.\n    /*\n     *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    function adapterFactory() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          window = _ref.window;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shimChrome: true,\n        shimFirefox: true,\n        shimSafari: true\n      };\n\n      // Utils.\n      var logging = utils.log;\n      var browserDetails = utils.detectBrowser(window);\n\n      var adapter = {\n        browserDetails: browserDetails,\n        commonShim: commonShim,\n        extractVersion: utils.extractVersion,\n        disableLog: utils.disableLog,\n        disableWarnings: utils.disableWarnings,\n        // Expose sdp as a convenience. For production apps include directly.\n        sdp: sdp\n      };\n\n      // Shim browser if found.\n      switch (browserDetails.browser) {\n        case 'chrome':\n          if (!chromeShim || !chromeShim.shimPeerConnection || !options.shimChrome) {\n            logging('Chrome shim is not included in this adapter release.');\n            return adapter;\n          }\n          if (browserDetails.version === null) {\n            logging('Chrome shim can not determine version, not shimming.');\n            return adapter;\n          }\n          logging('adapter.js shimming chrome.');\n          // Export to the adapter global object visible in the browser.\n          adapter.browserShim = chromeShim;\n\n          // Must be called before shimPeerConnection.\n          commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n\n          chromeShim.shimGetUserMedia(window, browserDetails);\n          chromeShim.shimMediaStream(window, browserDetails);\n          chromeShim.shimPeerConnection(window, browserDetails);\n          chromeShim.shimOnTrack(window, browserDetails);\n          chromeShim.shimAddTrackRemoveTrack(window, browserDetails);\n          chromeShim.shimGetSendersWithDtmf(window, browserDetails);\n          chromeShim.shimGetStats(window, browserDetails);\n          chromeShim.shimSenderReceiverGetStats(window, browserDetails);\n          chromeShim.fixNegotiationNeeded(window, browserDetails);\n\n          commonShim.shimRTCIceCandidate(window, browserDetails);\n          commonShim.shimConnectionState(window, browserDetails);\n          commonShim.shimMaxMessageSize(window, browserDetails);\n          commonShim.shimSendThrowTypeError(window, browserDetails);\n          commonShim.removeExtmapAllowMixed(window, browserDetails);\n          break;\n        case 'firefox':\n          if (!firefoxShim || !firefoxShim.shimPeerConnection || !options.shimFirefox) {\n            logging('Firefox shim is not included in this adapter release.');\n            return adapter;\n          }\n          logging('adapter.js shimming firefox.');\n          // Export to the adapter global object visible in the browser.\n          adapter.browserShim = firefoxShim;\n\n          // Must be called before shimPeerConnection.\n          commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n\n          firefoxShim.shimGetUserMedia(window, browserDetails);\n          firefoxShim.shimPeerConnection(window, browserDetails);\n          firefoxShim.shimOnTrack(window, browserDetails);\n          firefoxShim.shimRemoveStream(window, browserDetails);\n          firefoxShim.shimSenderGetStats(window, browserDetails);\n          firefoxShim.shimReceiverGetStats(window, browserDetails);\n          firefoxShim.shimRTCDataChannel(window, browserDetails);\n          firefoxShim.shimAddTransceiver(window, browserDetails);\n          firefoxShim.shimGetParameters(window, browserDetails);\n          firefoxShim.shimCreateOffer(window, browserDetails);\n          firefoxShim.shimCreateAnswer(window, browserDetails);\n\n          commonShim.shimRTCIceCandidate(window, browserDetails);\n          commonShim.shimConnectionState(window, browserDetails);\n          commonShim.shimMaxMessageSize(window, browserDetails);\n          commonShim.shimSendThrowTypeError(window, browserDetails);\n          break;\n        case 'safari':\n          if (!safariShim || !options.shimSafari) {\n            logging('Safari shim is not included in this adapter release.');\n            return adapter;\n          }\n          logging('adapter.js shimming safari.');\n          // Export to the adapter global object visible in the browser.\n          adapter.browserShim = safariShim;\n\n          // Must be called before shimCallbackAPI.\n          commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n\n          safariShim.shimRTCIceServerUrls(window, browserDetails);\n          safariShim.shimCreateOfferLegacy(window, browserDetails);\n          safariShim.shimCallbacksAPI(window, browserDetails);\n          safariShim.shimLocalStreamsAPI(window, browserDetails);\n          safariShim.shimRemoteStreamsAPI(window, browserDetails);\n          safariShim.shimTrackEventTransceiver(window, browserDetails);\n          safariShim.shimGetUserMedia(window, browserDetails);\n          safariShim.shimAudioContext(window, browserDetails);\n\n          commonShim.shimRTCIceCandidate(window, browserDetails);\n          commonShim.shimMaxMessageSize(window, browserDetails);\n          commonShim.shimSendThrowTypeError(window, browserDetails);\n          commonShim.removeExtmapAllowMixed(window, browserDetails);\n          break;\n        default:\n          logging('Unsupported browser!');\n          break;\n      }\n\n      return adapter;\n    }\n\n// Browser shims.\n\n  },{\"./chrome/chrome_shim\":3,\"./common_shim\":6,\"./firefox/firefox_shim\":7,\"./safari/safari_shim\":10,\"./utils\":11,\"sdp\":12}],3:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    /* eslint-env node */\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.shimGetDisplayMedia = exports.shimGetUserMedia = undefined;\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n    var _getusermedia = require('./getusermedia');\n\n    Object.defineProperty(exports, 'shimGetUserMedia', {\n      enumerable: true,\n      get: function get() {\n        return _getusermedia.shimGetUserMedia;\n      }\n    });\n\n    var _getdisplaymedia = require('./getdisplaymedia');\n\n    Object.defineProperty(exports, 'shimGetDisplayMedia', {\n      enumerable: true,\n      get: function get() {\n        return _getdisplaymedia.shimGetDisplayMedia;\n      }\n    });\n    exports.shimMediaStream = shimMediaStream;\n    exports.shimOnTrack = shimOnTrack;\n    exports.shimGetSendersWithDtmf = shimGetSendersWithDtmf;\n    exports.shimGetStats = shimGetStats;\n    exports.shimSenderReceiverGetStats = shimSenderReceiverGetStats;\n    exports.shimAddTrackRemoveTrackWithNative = shimAddTrackRemoveTrackWithNative;\n    exports.shimAddTrackRemoveTrack = shimAddTrackRemoveTrack;\n    exports.shimPeerConnection = shimPeerConnection;\n    exports.fixNegotiationNeeded = fixNegotiationNeeded;\n\n    var _utils = require('../utils.js');\n\n    var utils = _interopRequireWildcard(_utils);\n\n    function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n    function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n    function shimMediaStream(window) {\n      window.MediaStream = window.MediaStream || window.webkitMediaStream;\n    }\n\n    function shimOnTrack(window) {\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype)) {\n        Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n          get: function get() {\n            return this._ontrack;\n          },\n          set: function set(f) {\n            if (this._ontrack) {\n              this.removeEventListener('track', this._ontrack);\n            }\n            this.addEventListener('track', this._ontrack = f);\n          },\n\n          enumerable: true,\n          configurable: true\n        });\n        var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n        window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n          var _this = this;\n\n          if (!this._ontrackpoly) {\n            this._ontrackpoly = function (e) {\n              // onaddstream does not fire when a track is added to an existing\n              // stream. But stream.onaddtrack is implemented so we use that.\n              e.stream.addEventListener('addtrack', function (te) {\n                var receiver = void 0;\n                if (window.RTCPeerConnection.prototype.getReceivers) {\n                  receiver = _this.getReceivers().find(function (r) {\n                    return r.track && r.track.id === te.track.id;\n                  });\n                } else {\n                  receiver = { track: te.track };\n                }\n\n                var event = new Event('track');\n                event.track = te.track;\n                event.receiver = receiver;\n                event.transceiver = { receiver: receiver };\n                event.streams = [e.stream];\n                _this.dispatchEvent(event);\n              });\n              e.stream.getTracks().forEach(function (track) {\n                var receiver = void 0;\n                if (window.RTCPeerConnection.prototype.getReceivers) {\n                  receiver = _this.getReceivers().find(function (r) {\n                    return r.track && r.track.id === track.id;\n                  });\n                } else {\n                  receiver = { track: track };\n                }\n                var event = new Event('track');\n                event.track = track;\n                event.receiver = receiver;\n                event.transceiver = { receiver: receiver };\n                event.streams = [e.stream];\n                _this.dispatchEvent(event);\n              });\n            };\n            this.addEventListener('addstream', this._ontrackpoly);\n          }\n          return origSetRemoteDescription.apply(this, arguments);\n        };\n      } else {\n        // even if RTCRtpTransceiver is in window, it is only used and\n        // emitted in unified-plan. Unfortunately this means we need\n        // to unconditionally wrap the event.\n        utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n          if (!e.transceiver) {\n            Object.defineProperty(e, 'transceiver', { value: { receiver: e.receiver } });\n          }\n          return e;\n        });\n      }\n    }\n\n    function shimGetSendersWithDtmf(window) {\n      // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && !('getSenders' in window.RTCPeerConnection.prototype) && 'createDTMFSender' in window.RTCPeerConnection.prototype) {\n        var shimSenderWithDtmf = function shimSenderWithDtmf(pc, track) {\n          return {\n            track: track,\n            get dtmf() {\n              if (this._dtmf === undefined) {\n                if (track.kind === 'audio') {\n                  this._dtmf = pc.createDTMFSender(track);\n                } else {\n                  this._dtmf = null;\n                }\n              }\n              return this._dtmf;\n            },\n            _pc: pc\n          };\n        };\n\n        // augment addTrack when getSenders is not available.\n        if (!window.RTCPeerConnection.prototype.getSenders) {\n          window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n            this._senders = this._senders || [];\n            return this._senders.slice(); // return a copy of the internal state.\n          };\n          var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n          window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n            var sender = origAddTrack.apply(this, arguments);\n            if (!sender) {\n              sender = shimSenderWithDtmf(this, track);\n              this._senders.push(sender);\n            }\n            return sender;\n          };\n\n          var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n          window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n            origRemoveTrack.apply(this, arguments);\n            var idx = this._senders.indexOf(sender);\n            if (idx !== -1) {\n              this._senders.splice(idx, 1);\n            }\n          };\n        }\n        var origAddStream = window.RTCPeerConnection.prototype.addStream;\n        window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n          var _this2 = this;\n\n          this._senders = this._senders || [];\n          origAddStream.apply(this, [stream]);\n          stream.getTracks().forEach(function (track) {\n            _this2._senders.push(shimSenderWithDtmf(_this2, track));\n          });\n        };\n\n        var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n        window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n          var _this3 = this;\n\n          this._senders = this._senders || [];\n          origRemoveStream.apply(this, [stream]);\n\n          stream.getTracks().forEach(function (track) {\n            var sender = _this3._senders.find(function (s) {\n              return s.track === track;\n            });\n            if (sender) {\n              // remove sender\n              _this3._senders.splice(_this3._senders.indexOf(sender), 1);\n            }\n          });\n        };\n      } else if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && 'getSenders' in window.RTCPeerConnection.prototype && 'createDTMFSender' in window.RTCPeerConnection.prototype && window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n        var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n        window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n          var _this4 = this;\n\n          var senders = origGetSenders.apply(this, []);\n          senders.forEach(function (sender) {\n            return sender._pc = _this4;\n          });\n          return senders;\n        };\n\n        Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n          get: function get() {\n            if (this._dtmf === undefined) {\n              if (this.track.kind === 'audio') {\n                this._dtmf = this._pc.createDTMFSender(this.track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          }\n        });\n      }\n    }\n\n    function shimGetStats(window) {\n      if (!window.RTCPeerConnection) {\n        return;\n      }\n\n      var origGetStats = window.RTCPeerConnection.prototype.getStats;\n      window.RTCPeerConnection.prototype.getStats = function getStats() {\n        var _this5 = this;\n\n        var _arguments = Array.prototype.slice.call(arguments),\n            selector = _arguments[0],\n            onSucc = _arguments[1],\n            onErr = _arguments[2];\n\n        // If selector is a function then we are in the old style stats so just\n        // pass back the original getStats format to avoid breaking old users.\n\n\n        if (arguments.length > 0 && typeof selector === 'function') {\n          return origGetStats.apply(this, arguments);\n        }\n\n        // When spec-style getStats is supported, return those when called with\n        // either no arguments or the selector argument is null.\n        if (origGetStats.length === 0 && (arguments.length === 0 || typeof selector !== 'function')) {\n          return origGetStats.apply(this, []);\n        }\n\n        var fixChromeStats_ = function fixChromeStats_(response) {\n          var standardReport = {};\n          var reports = response.result();\n          reports.forEach(function (report) {\n            var standardStats = {\n              id: report.id,\n              timestamp: report.timestamp,\n              type: {\n                localcandidate: 'local-candidate',\n                remotecandidate: 'remote-candidate'\n              }[report.type] || report.type\n            };\n            report.names().forEach(function (name) {\n              standardStats[name] = report.stat(name);\n            });\n            standardReport[standardStats.id] = standardStats;\n          });\n\n          return standardReport;\n        };\n\n        // shim getStats with maplike support\n        var makeMapStats = function makeMapStats(stats) {\n          return new Map(Object.keys(stats).map(function (key) {\n            return [key, stats[key]];\n          }));\n        };\n\n        if (arguments.length >= 2) {\n          var successCallbackWrapper_ = function successCallbackWrapper_(response) {\n            onSucc(makeMapStats(fixChromeStats_(response)));\n          };\n\n          return origGetStats.apply(this, [successCallbackWrapper_, selector]);\n        }\n\n        // promise-support\n        return new Promise(function (resolve, reject) {\n          origGetStats.apply(_this5, [function (response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n        }).then(onSucc, onErr);\n      };\n    }\n\n    function shimSenderReceiverGetStats(window) {\n      if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && window.RTCRtpSender && window.RTCRtpReceiver)) {\n        return;\n      }\n\n      // shim sender stats.\n      if (!('getStats' in window.RTCRtpSender.prototype)) {\n        var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n        if (origGetSenders) {\n          window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n            var _this6 = this;\n\n            var senders = origGetSenders.apply(this, []);\n            senders.forEach(function (sender) {\n              return sender._pc = _this6;\n            });\n            return senders;\n          };\n        }\n\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        if (origAddTrack) {\n          window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n            var sender = origAddTrack.apply(this, arguments);\n            sender._pc = this;\n            return sender;\n          };\n        }\n        window.RTCRtpSender.prototype.getStats = function getStats() {\n          var sender = this;\n          return this._pc.getStats().then(function (result) {\n            return (\n                /* Note: this will include stats of all senders that\n                 *   send a track with the same id as sender.track as\n                 *   it is not possible to identify the RTCRtpSender.\n                 */\n                utils.filterStats(result, sender.track, true)\n            );\n          });\n        };\n      }\n\n      // shim receiver stats.\n      if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n        var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n        if (origGetReceivers) {\n          window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n            var _this7 = this;\n\n            var receivers = origGetReceivers.apply(this, []);\n            receivers.forEach(function (receiver) {\n              return receiver._pc = _this7;\n            });\n            return receivers;\n          };\n        }\n        utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n          e.receiver._pc = e.srcElement;\n          return e;\n        });\n        window.RTCRtpReceiver.prototype.getStats = function getStats() {\n          var receiver = this;\n          return this._pc.getStats().then(function (result) {\n            return utils.filterStats(result, receiver.track, false);\n          });\n        };\n      }\n\n      if (!('getStats' in window.RTCRtpSender.prototype && 'getStats' in window.RTCRtpReceiver.prototype)) {\n        return;\n      }\n\n      // shim RTCPeerConnection.getStats(track).\n      var origGetStats = window.RTCPeerConnection.prototype.getStats;\n      window.RTCPeerConnection.prototype.getStats = function getStats() {\n        if (arguments.length > 0 && arguments[0] instanceof window.MediaStreamTrack) {\n          var track = arguments[0];\n          var sender = void 0;\n          var receiver = void 0;\n          var err = void 0;\n          this.getSenders().forEach(function (s) {\n            if (s.track === track) {\n              if (sender) {\n                err = true;\n              } else {\n                sender = s;\n              }\n            }\n          });\n          this.getReceivers().forEach(function (r) {\n            if (r.track === track) {\n              if (receiver) {\n                err = true;\n              } else {\n                receiver = r;\n              }\n            }\n            return r.track === track;\n          });\n          if (err || sender && receiver) {\n            return Promise.reject(new DOMException('There are more than one sender or receiver for the track.', 'InvalidAccessError'));\n          } else if (sender) {\n            return sender.getStats();\n          } else if (receiver) {\n            return receiver.getStats();\n          }\n          return Promise.reject(new DOMException('There is no sender or receiver for the track.', 'InvalidAccessError'));\n        }\n        return origGetStats.apply(this, arguments);\n      };\n    }\n\n    function shimAddTrackRemoveTrackWithNative(window) {\n      // shim addTrack/removeTrack with native variants in order to make\n      // the interactions with legacy getLocalStreams behave as in other browsers.\n      // Keeps a mapping stream.id => [stream, rtpsenders...]\n      window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n        var _this8 = this;\n\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n        return Object.keys(this._shimmedLocalStreams).map(function (streamId) {\n          return _this8._shimmedLocalStreams[streamId][0];\n        });\n      };\n\n      var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n        if (!stream) {\n          return origAddTrack.apply(this, arguments);\n        }\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n        var sender = origAddTrack.apply(this, arguments);\n        if (!this._shimmedLocalStreams[stream.id]) {\n          this._shimmedLocalStreams[stream.id] = [stream, sender];\n        } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n          this._shimmedLocalStreams[stream.id].push(sender);\n        }\n        return sender;\n      };\n\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n        var _this9 = this;\n\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n        stream.getTracks().forEach(function (track) {\n          var alreadyExists = _this9.getSenders().find(function (s) {\n            return s.track === track;\n          });\n          if (alreadyExists) {\n            throw new DOMException('Track already exists.', 'InvalidAccessError');\n          }\n        });\n        var existingSenders = this.getSenders();\n        origAddStream.apply(this, arguments);\n        var newSenders = this.getSenders().filter(function (newSender) {\n          return existingSenders.indexOf(newSender) === -1;\n        });\n        this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n        delete this._shimmedLocalStreams[stream.id];\n        return origRemoveStream.apply(this, arguments);\n      };\n\n      var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n        var _this10 = this;\n\n        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n        if (sender) {\n          Object.keys(this._shimmedLocalStreams).forEach(function (streamId) {\n            var idx = _this10._shimmedLocalStreams[streamId].indexOf(sender);\n            if (idx !== -1) {\n              _this10._shimmedLocalStreams[streamId].splice(idx, 1);\n            }\n            if (_this10._shimmedLocalStreams[streamId].length === 1) {\n              delete _this10._shimmedLocalStreams[streamId];\n            }\n          });\n        }\n        return origRemoveTrack.apply(this, arguments);\n      };\n    }\n\n    function shimAddTrackRemoveTrack(window, browserDetails) {\n      if (!window.RTCPeerConnection) {\n        return;\n      }\n      // shim addTrack and removeTrack.\n      if (window.RTCPeerConnection.prototype.addTrack && browserDetails.version >= 65) {\n        return shimAddTrackRemoveTrackWithNative(window);\n      }\n\n      // also shim pc.getLocalStreams when addTrack is shimmed\n      // to return the original streams.\n      var origGetLocalStreams = window.RTCPeerConnection.prototype.getLocalStreams;\n      window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n        var _this11 = this;\n\n        var nativeStreams = origGetLocalStreams.apply(this);\n        this._reverseStreams = this._reverseStreams || {};\n        return nativeStreams.map(function (stream) {\n          return _this11._reverseStreams[stream.id];\n        });\n      };\n\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n        var _this12 = this;\n\n        this._streams = this._streams || {};\n        this._reverseStreams = this._reverseStreams || {};\n\n        stream.getTracks().forEach(function (track) {\n          var alreadyExists = _this12.getSenders().find(function (s) {\n            return s.track === track;\n          });\n          if (alreadyExists) {\n            throw new DOMException('Track already exists.', 'InvalidAccessError');\n          }\n        });\n        // Add identity mapping for consistency with addTrack.\n        // Unless this is being used with a stream from addTrack.\n        if (!this._reverseStreams[stream.id]) {\n          var newStream = new window.MediaStream(stream.getTracks());\n          this._streams[stream.id] = newStream;\n          this._reverseStreams[newStream.id] = stream;\n          stream = newStream;\n        }\n        origAddStream.apply(this, [stream]);\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n        this._streams = this._streams || {};\n        this._reverseStreams = this._reverseStreams || {};\n\n        origRemoveStream.apply(this, [this._streams[stream.id] || stream]);\n        delete this._reverseStreams[this._streams[stream.id] ? this._streams[stream.id].id : stream.id];\n        delete this._streams[stream.id];\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n        var _this13 = this;\n\n        if (this.signalingState === 'closed') {\n          throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n        }\n        var streams = [].slice.call(arguments, 1);\n        if (streams.length !== 1 || !streams[0].getTracks().find(function (t) {\n          return t === track;\n        })) {\n          // this is not fully correct but all we can manage without\n          // [[associated MediaStreams]] internal slot.\n          throw new DOMException('The adapter.js addTrack polyfill only supports a single ' + ' stream which is associated with the specified track.', 'NotSupportedError');\n        }\n\n        var alreadyExists = this.getSenders().find(function (s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.', 'InvalidAccessError');\n        }\n\n        this._streams = this._streams || {};\n        this._reverseStreams = this._reverseStreams || {};\n        var oldStream = this._streams[stream.id];\n        if (oldStream) {\n          // this is using odd Chrome behaviour, use with caution:\n          // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n          // Note: we rely on the high-level addTrack/dtmf shim to\n          // create the sender with a dtmf sender.\n          oldStream.addTrack(track);\n\n          // Trigger ONN async.\n          Promise.resolve().then(function () {\n            _this13.dispatchEvent(new Event('negotiationneeded'));\n          });\n        } else {\n          var newStream = new window.MediaStream([track]);\n          this._streams[stream.id] = newStream;\n          this._reverseStreams[newStream.id] = stream;\n          this.addStream(newStream);\n        }\n        return this.getSenders().find(function (s) {\n          return s.track === track;\n        });\n      };\n\n      // replace the internal stream id with the external one and\n      // vice versa.\n      function replaceInternalStreamId(pc, description) {\n        var sdp = description.sdp;\n        Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n          var externalStream = pc._reverseStreams[internalId];\n          var internalStream = pc._streams[externalStream.id];\n          sdp = sdp.replace(new RegExp(internalStream.id, 'g'), externalStream.id);\n        });\n        return new RTCSessionDescription({\n          type: description.type,\n          sdp: sdp\n        });\n      }\n      function replaceExternalStreamId(pc, description) {\n        var sdp = description.sdp;\n        Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n          var externalStream = pc._reverseStreams[internalId];\n          var internalStream = pc._streams[externalStream.id];\n          sdp = sdp.replace(new RegExp(externalStream.id, 'g'), internalStream.id);\n        });\n        return new RTCSessionDescription({\n          type: description.type,\n          sdp: sdp\n        });\n      }\n      ['createOffer', 'createAnswer'].forEach(function (method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        var methodObj = _defineProperty({}, method, function () {\n          var _this14 = this;\n\n          var args = arguments;\n          var isLegacyCall = arguments.length && typeof arguments[0] === 'function';\n          if (isLegacyCall) {\n            return nativeMethod.apply(this, [function (description) {\n              var desc = replaceInternalStreamId(_this14, description);\n              args[0].apply(null, [desc]);\n            }, function (err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]]);\n          }\n          return nativeMethod.apply(this, arguments).then(function (description) {\n            return replaceInternalStreamId(_this14, description);\n          });\n        });\n        window.RTCPeerConnection.prototype[method] = methodObj[method];\n      });\n\n      var origSetLocalDescription = window.RTCPeerConnection.prototype.setLocalDescription;\n      window.RTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {\n        if (!arguments.length || !arguments[0].type) {\n          return origSetLocalDescription.apply(this, arguments);\n        }\n        arguments[0] = replaceExternalStreamId(this, arguments[0]);\n        return origSetLocalDescription.apply(this, arguments);\n      };\n\n      // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n      var origLocalDescription = Object.getOwnPropertyDescriptor(window.RTCPeerConnection.prototype, 'localDescription');\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'localDescription', {\n        get: function get() {\n          var description = origLocalDescription.get.apply(this);\n          if (description.type === '') {\n            return description;\n          }\n          return replaceInternalStreamId(this, description);\n        }\n      });\n\n      window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n        var _this15 = this;\n\n        if (this.signalingState === 'closed') {\n          throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n        }\n        // We can not yet check for sender instanceof RTCRtpSender\n        // since we shim RTPSender. So we check if sender._pc is set.\n        if (!sender._pc) {\n          throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' + 'does not implement interface RTCRtpSender.', 'TypeError');\n        }\n        var isLocal = sender._pc === this;\n        if (!isLocal) {\n          throw new DOMException('Sender was not created by this connection.', 'InvalidAccessError');\n        }\n\n        // Search for the native stream the senders track belongs to.\n        this._streams = this._streams || {};\n        var stream = void 0;\n        Object.keys(this._streams).forEach(function (streamid) {\n          var hasTrack = _this15._streams[streamid].getTracks().find(function (track) {\n            return sender.track === track;\n          });\n          if (hasTrack) {\n            stream = _this15._streams[streamid];\n          }\n        });\n\n        if (stream) {\n          if (stream.getTracks().length === 1) {\n            // if this is the last track of the stream, remove the stream. This\n            // takes care of any shimmed _senders.\n            this.removeStream(this._reverseStreams[stream.id]);\n          } else {\n            // relying on the same odd chrome behaviour as above.\n            stream.removeTrack(sender.track);\n          }\n          this.dispatchEvent(new Event('negotiationneeded'));\n        }\n      };\n    }\n\n    function shimPeerConnection(window, browserDetails) {\n      if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n        // very basic support for old versions.\n        window.RTCPeerConnection = window.webkitRTCPeerConnection;\n      }\n      if (!window.RTCPeerConnection) {\n        return;\n      }\n\n      // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n      if (browserDetails.version < 53) {\n        ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          var methodObj = _defineProperty({}, method, function () {\n            arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          });\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n      }\n    }\n\n// Attempt to fix ONN in plan-b mode.\n    function fixNegotiationNeeded(window, browserDetails) {\n      utils.wrapPeerConnectionEvent(window, 'negotiationneeded', function (e) {\n        var pc = e.target;\n        if (browserDetails.version < 72 || pc.getConfiguration && pc.getConfiguration().sdpSemantics === 'plan-b') {\n          if (pc.signalingState !== 'stable') {\n            return;\n          }\n        }\n        return e;\n      });\n    }\n\n  },{\"../utils.js\":11,\"./getdisplaymedia\":4,\"./getusermedia\":5}],4:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    /* eslint-env node */\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.shimGetDisplayMedia = shimGetDisplayMedia;\n    function shimGetDisplayMedia(window, getSourceId) {\n      if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n        return;\n      }\n      if (!window.navigator.mediaDevices) {\n        return;\n      }\n      // getSourceId is a function that returns a promise resolving with\n      // the sourceId of the screen/window/tab to be shared.\n      if (typeof getSourceId !== 'function') {\n        console.error('shimGetDisplayMedia: getSourceId argument is not ' + 'a function');\n        return;\n      }\n      window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n        return getSourceId(constraints).then(function (sourceId) {\n          var widthSpecified = constraints.video && constraints.video.width;\n          var heightSpecified = constraints.video && constraints.video.height;\n          var frameRateSpecified = constraints.video && constraints.video.frameRate;\n          constraints.video = {\n            mandatory: {\n              chromeMediaSource: 'desktop',\n              chromeMediaSourceId: sourceId,\n              maxFrameRate: frameRateSpecified || 3\n            }\n          };\n          if (widthSpecified) {\n            constraints.video.mandatory.maxWidth = widthSpecified;\n          }\n          if (heightSpecified) {\n            constraints.video.mandatory.maxHeight = heightSpecified;\n          }\n          return window.navigator.mediaDevices.getUserMedia(constraints);\n        });\n      };\n    }\n\n  },{}],5:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    /* eslint-env node */\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n    exports.shimGetUserMedia = shimGetUserMedia;\n\n    var _utils = require('../utils.js');\n\n    var utils = _interopRequireWildcard(_utils);\n\n    function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n    var logging = utils.log;\n\n    function shimGetUserMedia(window, browserDetails) {\n      var navigator = window && window.navigator;\n\n      if (!navigator.mediaDevices) {\n        return;\n      }\n\n      var constraintsToChrome_ = function constraintsToChrome_(c) {\n        if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) !== 'object' || c.mandatory || c.optional) {\n          return c;\n        }\n        var cc = {};\n        Object.keys(c).forEach(function (key) {\n          if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n            return;\n          }\n          var r = _typeof(c[key]) === 'object' ? c[key] : { ideal: c[key] };\n          if (r.exact !== undefined && typeof r.exact === 'number') {\n            r.min = r.max = r.exact;\n          }\n          var oldname_ = function oldname_(prefix, name) {\n            if (prefix) {\n              return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n            }\n            return name === 'deviceId' ? 'sourceId' : name;\n          };\n          if (r.ideal !== undefined) {\n            cc.optional = cc.optional || [];\n            var oc = {};\n            if (typeof r.ideal === 'number') {\n              oc[oldname_('min', key)] = r.ideal;\n              cc.optional.push(oc);\n              oc = {};\n              oc[oldname_('max', key)] = r.ideal;\n              cc.optional.push(oc);\n            } else {\n              oc[oldname_('', key)] = r.ideal;\n              cc.optional.push(oc);\n            }\n          }\n          if (r.exact !== undefined && typeof r.exact !== 'number') {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_('', key)] = r.exact;\n          } else {\n            ['min', 'max'].forEach(function (mix) {\n              if (r[mix] !== undefined) {\n                cc.mandatory = cc.mandatory || {};\n                cc.mandatory[oldname_(mix, key)] = r[mix];\n              }\n            });\n          }\n        });\n        if (c.advanced) {\n          cc.optional = (cc.optional || []).concat(c.advanced);\n        }\n        return cc;\n      };\n\n      var shimConstraints_ = function shimConstraints_(constraints, func) {\n        if (browserDetails.version >= 61) {\n          return func(constraints);\n        }\n        constraints = JSON.parse(JSON.stringify(constraints));\n        if (constraints && _typeof(constraints.audio) === 'object') {\n          var remap = function remap(obj, a, b) {\n            if (a in obj && !(b in obj)) {\n              obj[b] = obj[a];\n              delete obj[a];\n            }\n          };\n          constraints = JSON.parse(JSON.stringify(constraints));\n          remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n          remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n          constraints.audio = constraintsToChrome_(constraints.audio);\n        }\n        if (constraints && _typeof(constraints.video) === 'object') {\n          // Shim facingMode for mobile & surface pro.\n          var face = constraints.video.facingMode;\n          face = face && ((typeof face === 'undefined' ? 'undefined' : _typeof(face)) === 'object' ? face : { ideal: face });\n          var getSupportedFacingModeLies = browserDetails.version < 66;\n\n          if (face && (face.exact === 'user' || face.exact === 'environment' || face.ideal === 'user' || face.ideal === 'environment') && !(navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints().facingMode && !getSupportedFacingModeLies)) {\n            delete constraints.video.facingMode;\n            var matches = void 0;\n            if (face.exact === 'environment' || face.ideal === 'environment') {\n              matches = ['back', 'rear'];\n            } else if (face.exact === 'user' || face.ideal === 'user') {\n              matches = ['front'];\n            }\n            if (matches) {\n              // Look for matches in label, or use last cam for back (typical).\n              return navigator.mediaDevices.enumerateDevices().then(function (devices) {\n                devices = devices.filter(function (d) {\n                  return d.kind === 'videoinput';\n                });\n                var dev = devices.find(function (d) {\n                  return matches.some(function (match) {\n                    return d.label.toLowerCase().includes(match);\n                  });\n                });\n                if (!dev && devices.length && matches.includes('back')) {\n                  dev = devices[devices.length - 1]; // more likely the back cam\n                }\n                if (dev) {\n                  constraints.video.deviceId = face.exact ? { exact: dev.deviceId } : { ideal: dev.deviceId };\n                }\n                constraints.video = constraintsToChrome_(constraints.video);\n                logging('chrome: ' + JSON.stringify(constraints));\n                return func(constraints);\n              });\n            }\n          }\n          constraints.video = constraintsToChrome_(constraints.video);\n        }\n        logging('chrome: ' + JSON.stringify(constraints));\n        return func(constraints);\n      };\n\n      var shimError_ = function shimError_(e) {\n        if (browserDetails.version >= 64) {\n          return e;\n        }\n        return {\n          name: {\n            PermissionDeniedError: 'NotAllowedError',\n            PermissionDismissedError: 'NotAllowedError',\n            InvalidStateError: 'NotAllowedError',\n            DevicesNotFoundError: 'NotFoundError',\n            ConstraintNotSatisfiedError: 'OverconstrainedError',\n            TrackStartError: 'NotReadableError',\n            MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n            MediaDeviceKillSwitchOn: 'NotAllowedError',\n            TabCaptureError: 'AbortError',\n            ScreenCaptureError: 'AbortError',\n            DeviceCaptureError: 'AbortError'\n          }[e.name] || e.name,\n          message: e.message,\n          constraint: e.constraint || e.constraintName,\n          toString: function toString() {\n            return this.name + (this.message && ': ') + this.message;\n          }\n        };\n      };\n\n      var getUserMedia_ = function getUserMedia_(constraints, onSuccess, onError) {\n        shimConstraints_(constraints, function (c) {\n          navigator.webkitGetUserMedia(c, onSuccess, function (e) {\n            if (onError) {\n              onError(shimError_(e));\n            }\n          });\n        });\n      };\n      navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n      // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n      // function which returns a Promise, it does not accept spec-style\n      // constraints.\n      if (navigator.mediaDevices.getUserMedia) {\n        var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n        navigator.mediaDevices.getUserMedia = function (cs) {\n          return shimConstraints_(cs, function (c) {\n            return origGetUserMedia(c).then(function (stream) {\n              if (c.audio && !stream.getAudioTracks().length || c.video && !stream.getVideoTracks().length) {\n                stream.getTracks().forEach(function (track) {\n                  track.stop();\n                });\n                throw new DOMException('', 'NotFoundError');\n              }\n              return stream;\n            }, function (e) {\n              return Promise.reject(shimError_(e));\n            });\n          });\n        };\n      }\n    }\n\n  },{\"../utils.js\":11}],6:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    /* eslint-env node */\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n    exports.shimRTCIceCandidate = shimRTCIceCandidate;\n    exports.shimMaxMessageSize = shimMaxMessageSize;\n    exports.shimSendThrowTypeError = shimSendThrowTypeError;\n    exports.shimConnectionState = shimConnectionState;\n    exports.removeExtmapAllowMixed = removeExtmapAllowMixed;\n    exports.shimAddIceCandidateNullOrEmpty = shimAddIceCandidateNullOrEmpty;\n\n    var _sdp = require('sdp');\n\n    var _sdp2 = _interopRequireDefault(_sdp);\n\n    var _utils = require('./utils');\n\n    var utils = _interopRequireWildcard(_utils);\n\n    function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n    function shimRTCIceCandidate(window) {\n      // foundation is arbitrarily chosen as an indicator for full support for\n      // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n      if (!window.RTCIceCandidate || window.RTCIceCandidate && 'foundation' in window.RTCIceCandidate.prototype) {\n        return;\n      }\n\n      var NativeRTCIceCandidate = window.RTCIceCandidate;\n      window.RTCIceCandidate = function RTCIceCandidate(args) {\n        // Remove the a= which shouldn't be part of the candidate string.\n        if ((typeof args === 'undefined' ? 'undefined' : _typeof(args)) === 'object' && args.candidate && args.candidate.indexOf('a=') === 0) {\n          args = JSON.parse(JSON.stringify(args));\n          args.candidate = args.candidate.substr(2);\n        }\n\n        if (args.candidate && args.candidate.length) {\n          // Augment the native candidate with the parsed fields.\n          var nativeCandidate = new NativeRTCIceCandidate(args);\n          var parsedCandidate = _sdp2.default.parseCandidate(args.candidate);\n          var augmentedCandidate = Object.assign(nativeCandidate, parsedCandidate);\n\n          // Add a serializer that does not serialize the extra attributes.\n          augmentedCandidate.toJSON = function toJSON() {\n            return {\n              candidate: augmentedCandidate.candidate,\n              sdpMid: augmentedCandidate.sdpMid,\n              sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n              usernameFragment: augmentedCandidate.usernameFragment\n            };\n          };\n          return augmentedCandidate;\n        }\n        return new NativeRTCIceCandidate(args);\n      };\n      window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n      // Hook up the augmented candidate in onicecandidate and\n      // addEventListener('icecandidate', ...)\n      utils.wrapPeerConnectionEvent(window, 'icecandidate', function (e) {\n        if (e.candidate) {\n          Object.defineProperty(e, 'candidate', {\n            value: new window.RTCIceCandidate(e.candidate),\n            writable: 'false'\n          });\n        }\n        return e;\n      });\n    }\n\n    function shimMaxMessageSize(window, browserDetails) {\n      if (!window.RTCPeerConnection) {\n        return;\n      }\n\n      if (!('sctp' in window.RTCPeerConnection.prototype)) {\n        Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n          get: function get() {\n            return typeof this._sctp === 'undefined' ? null : this._sctp;\n          }\n        });\n      }\n\n      var sctpInDescription = function sctpInDescription(description) {\n        if (!description || !description.sdp) {\n          return false;\n        }\n        var sections = _sdp2.default.splitSections(description.sdp);\n        sections.shift();\n        return sections.some(function (mediaSection) {\n          var mLine = _sdp2.default.parseMLine(mediaSection);\n          return mLine && mLine.kind === 'application' && mLine.protocol.indexOf('SCTP') !== -1;\n        });\n      };\n\n      var getRemoteFirefoxVersion = function getRemoteFirefoxVersion(description) {\n        // TODO: Is there a better solution for detecting Firefox?\n        var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n        if (match === null || match.length < 2) {\n          return -1;\n        }\n        var version = parseInt(match[1], 10);\n        // Test for NaN (yes, this is ugly)\n        return version !== version ? -1 : version;\n      };\n\n      var getCanSendMaxMessageSize = function getCanSendMaxMessageSize(remoteIsFirefox) {\n        // Every implementation we know can send at least 64 KiB.\n        // Note: Although Chrome is technically able to send up to 256 KiB, the\n        //       data does not reach the other peer reliably.\n        //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n        var canSendMaxMessageSize = 65536;\n        if (browserDetails.browser === 'firefox') {\n          if (browserDetails.version < 57) {\n            if (remoteIsFirefox === -1) {\n              // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n              // fragmentation.\n              canSendMaxMessageSize = 16384;\n            } else {\n              // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n              // messages. Thus, supporting ~2 GiB when sending.\n              canSendMaxMessageSize = 2147483637;\n            }\n          } else if (browserDetails.version < 60) {\n            // Currently, all FF >= 57 will reset the remote maximum message size\n            // to the default value when a data channel is created at a later\n            // stage. :(\n            // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n            canSendMaxMessageSize = browserDetails.version === 57 ? 65535 : 65536;\n          } else {\n            // FF >= 60 supports sending ~2 GiB\n            canSendMaxMessageSize = 2147483637;\n          }\n        }\n        return canSendMaxMessageSize;\n      };\n\n      var getMaxMessageSize = function getMaxMessageSize(description, remoteIsFirefox) {\n        // Note: 65536 bytes is the default value from the SDP spec. Also,\n        //       every implementation we know supports receiving 65536 bytes.\n        var maxMessageSize = 65536;\n\n        // FF 57 has a slightly incorrect default remote max message size, so\n        // we need to adjust it here to avoid a failure when sending.\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n        if (browserDetails.browser === 'firefox' && browserDetails.version === 57) {\n          maxMessageSize = 65535;\n        }\n\n        var match = _sdp2.default.matchPrefix(description.sdp, 'a=max-message-size:');\n        if (match.length > 0) {\n          maxMessageSize = parseInt(match[0].substr(19), 10);\n        } else if (browserDetails.browser === 'firefox' && remoteIsFirefox !== -1) {\n          // If the maximum message size is not present in the remote SDP and\n          // both local and remote are Firefox, the remote peer can receive\n          // ~2 GiB.\n          maxMessageSize = 2147483637;\n        }\n        return maxMessageSize;\n      };\n\n      var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n        this._sctp = null;\n        // Chrome decided to not expose .sctp in plan-b mode.\n        // As usual, adapter.js has to do an 'ugly worakaround'\n        // to cover up the mess.\n        if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n          var _getConfiguration = this.getConfiguration(),\n              sdpSemantics = _getConfiguration.sdpSemantics;\n\n          if (sdpSemantics === 'plan-b') {\n            Object.defineProperty(this, 'sctp', {\n              get: function get() {\n                return typeof this._sctp === 'undefined' ? null : this._sctp;\n              },\n\n              enumerable: true,\n              configurable: true\n            });\n          }\n        }\n\n        if (sctpInDescription(arguments[0])) {\n          // Check if the remote is FF.\n          var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n          // Get the maximum message size the local peer is capable of sending\n          var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n          // Get the maximum message size of the remote peer.\n          var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n          // Determine final maximum message size\n          var maxMessageSize = void 0;\n          if (canSendMMS === 0 && remoteMMS === 0) {\n            maxMessageSize = Number.POSITIVE_INFINITY;\n          } else if (canSendMMS === 0 || remoteMMS === 0) {\n            maxMessageSize = Math.max(canSendMMS, remoteMMS);\n          } else {\n            maxMessageSize = Math.min(canSendMMS, remoteMMS);\n          }\n\n          // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n          // attribute.\n          var sctp = {};\n          Object.defineProperty(sctp, 'maxMessageSize', {\n            get: function get() {\n              return maxMessageSize;\n            }\n          });\n          this._sctp = sctp;\n        }\n\n        return origSetRemoteDescription.apply(this, arguments);\n      };\n    }\n\n    function shimSendThrowTypeError(window) {\n      if (!(window.RTCPeerConnection && 'createDataChannel' in window.RTCPeerConnection.prototype)) {\n        return;\n      }\n\n      // Note: Although Firefox >= 57 has a native implementation, the maximum\n      //       message size can be reset for all data channels at a later stage.\n      //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n      function wrapDcSend(dc, pc) {\n        var origDataChannelSend = dc.send;\n        dc.send = function send() {\n          var data = arguments[0];\n          var length = data.length || data.size || data.byteLength;\n          if (dc.readyState === 'open' && pc.sctp && length > pc.sctp.maxMessageSize) {\n            throw new TypeError('Message too large (can send a maximum of ' + pc.sctp.maxMessageSize + ' bytes)');\n          }\n          return origDataChannelSend.apply(dc, arguments);\n        };\n      }\n      var origCreateDataChannel = window.RTCPeerConnection.prototype.createDataChannel;\n      window.RTCPeerConnection.prototype.createDataChannel = function createDataChannel() {\n        var dataChannel = origCreateDataChannel.apply(this, arguments);\n        wrapDcSend(dataChannel, this);\n        return dataChannel;\n      };\n      utils.wrapPeerConnectionEvent(window, 'datachannel', function (e) {\n        wrapDcSend(e.channel, e.target);\n        return e;\n      });\n    }\n\n    /* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n     * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n     * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n     * since DTLS failures would be hidden. See\n     * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n     * for the Firefox tracking bug.\n     */\n    function shimConnectionState(window) {\n      if (!window.RTCPeerConnection || 'connectionState' in window.RTCPeerConnection.prototype) {\n        return;\n      }\n      var proto = window.RTCPeerConnection.prototype;\n      Object.defineProperty(proto, 'connectionState', {\n        get: function get() {\n          return {\n            completed: 'connected',\n            checking: 'connecting'\n          }[this.iceConnectionState] || this.iceConnectionState;\n        },\n\n        enumerable: true,\n        configurable: true\n      });\n      Object.defineProperty(proto, 'onconnectionstatechange', {\n        get: function get() {\n          return this._onconnectionstatechange || null;\n        },\n        set: function set(cb) {\n          if (this._onconnectionstatechange) {\n            this.removeEventListener('connectionstatechange', this._onconnectionstatechange);\n            delete this._onconnectionstatechange;\n          }\n          if (cb) {\n            this.addEventListener('connectionstatechange', this._onconnectionstatechange = cb);\n          }\n        },\n\n        enumerable: true,\n        configurable: true\n      });\n\n      ['setLocalDescription', 'setRemoteDescription'].forEach(function (method) {\n        var origMethod = proto[method];\n        proto[method] = function () {\n          if (!this._connectionstatechangepoly) {\n            this._connectionstatechangepoly = function (e) {\n              var pc = e.target;\n              if (pc._lastConnectionState !== pc.connectionState) {\n                pc._lastConnectionState = pc.connectionState;\n                var newEvent = new Event('connectionstatechange', e);\n                pc.dispatchEvent(newEvent);\n              }\n              return e;\n            };\n            this.addEventListener('iceconnectionstatechange', this._connectionstatechangepoly);\n          }\n          return origMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    function removeExtmapAllowMixed(window, browserDetails) {\n      /* remove a=extmap-allow-mixed for webrtc.org < M71 */\n      if (!window.RTCPeerConnection) {\n        return;\n      }\n      if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n        return;\n      }\n      if (browserDetails.browser === 'safari' && browserDetails.version >= 605) {\n        return;\n      }\n      var nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription(desc) {\n        if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n          var sdp = desc.sdp.split('\\n').filter(function (line) {\n            return line.trim() !== 'a=extmap-allow-mixed';\n          }).join('\\n');\n          // Safari enforces read-only-ness of RTCSessionDescription fields.\n          if (window.RTCSessionDescription && desc instanceof window.RTCSessionDescription) {\n            arguments[0] = new window.RTCSessionDescription({\n              type: desc.type,\n              sdp: sdp\n            });\n          } else {\n            desc.sdp = sdp;\n          }\n        }\n        return nativeSRD.apply(this, arguments);\n      };\n    }\n\n    function shimAddIceCandidateNullOrEmpty(window, browserDetails) {\n      // Support for addIceCandidate(null or undefined)\n      // as well as addIceCandidate({candidate: \"\", ...})\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=978582\n      // Note: must be called before other polyfills which change the signature.\n      if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n        return;\n      }\n      var nativeAddIceCandidate = window.RTCPeerConnection.prototype.addIceCandidate;\n      if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) {\n        return;\n      }\n      window.RTCPeerConnection.prototype.addIceCandidate = function addIceCandidate() {\n        if (!arguments[0]) {\n          if (arguments[1]) {\n            arguments[1].apply(null);\n          }\n          return Promise.resolve();\n        }\n        // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n        // in older versions.\n        // Native support for ignoring exists for Chrome M77+.\n        // Safari ignores as well, exact version unknown but works in the same\n        // version that also ignores addIceCandidate(null).\n        if ((browserDetails.browser === 'chrome' && browserDetails.version < 78 || browserDetails.browser === 'firefox' && browserDetails.version < 68 || browserDetails.browser === 'safari') && arguments[0] && arguments[0].candidate === '') {\n          return Promise.resolve();\n        }\n        return nativeAddIceCandidate.apply(this, arguments);\n      };\n    }\n\n  },{\"./utils\":11,\"sdp\":12}],7:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    /* eslint-env node */\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.shimGetDisplayMedia = exports.shimGetUserMedia = undefined;\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n    var _getusermedia = require('./getusermedia');\n\n    Object.defineProperty(exports, 'shimGetUserMedia', {\n      enumerable: true,\n      get: function get() {\n        return _getusermedia.shimGetUserMedia;\n      }\n    });\n\n    var _getdisplaymedia = require('./getdisplaymedia');\n\n    Object.defineProperty(exports, 'shimGetDisplayMedia', {\n      enumerable: true,\n      get: function get() {\n        return _getdisplaymedia.shimGetDisplayMedia;\n      }\n    });\n    exports.shimOnTrack = shimOnTrack;\n    exports.shimPeerConnection = shimPeerConnection;\n    exports.shimSenderGetStats = shimSenderGetStats;\n    exports.shimReceiverGetStats = shimReceiverGetStats;\n    exports.shimRemoveStream = shimRemoveStream;\n    exports.shimRTCDataChannel = shimRTCDataChannel;\n    exports.shimAddTransceiver = shimAddTransceiver;\n    exports.shimGetParameters = shimGetParameters;\n    exports.shimCreateOffer = shimCreateOffer;\n    exports.shimCreateAnswer = shimCreateAnswer;\n\n    var _utils = require('../utils');\n\n    var utils = _interopRequireWildcard(_utils);\n\n    function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n    function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n    function shimOnTrack(window) {\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) {\n        Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n          get: function get() {\n            return { receiver: this.receiver };\n          }\n        });\n      }\n    }\n\n    function shimPeerConnection(window, browserDetails) {\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n        return; // probably media.peerconnection.enabled=false in about:config\n      }\n      if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n        // very basic support for old versions.\n        window.RTCPeerConnection = window.mozRTCPeerConnection;\n      }\n\n      if (browserDetails.version < 53) {\n        // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n        ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          var methodObj = _defineProperty({}, method, function () {\n            arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          });\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n      }\n\n      var modernStatsTypes = {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n      };\n\n      var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n      window.RTCPeerConnection.prototype.getStats = function getStats() {\n        var _arguments = Array.prototype.slice.call(arguments),\n            selector = _arguments[0],\n            onSucc = _arguments[1],\n            onErr = _arguments[2];\n\n        return nativeGetStats.apply(this, [selector || null]).then(function (stats) {\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function (stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function (stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        }).then(onSucc, onErr);\n      };\n    }\n\n    function shimSenderGetStats(window) {\n      if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n        return;\n      }\n      if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n        return;\n      }\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      if (origGetSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n          var _this = this;\n\n          var senders = origGetSenders.apply(this, []);\n          senders.forEach(function (sender) {\n            return sender._pc = _this;\n          });\n          return senders;\n        };\n      }\n\n      var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      if (origAddTrack) {\n        window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n          var sender = origAddTrack.apply(this, arguments);\n          sender._pc = this;\n          return sender;\n        };\n      }\n      window.RTCRtpSender.prototype.getStats = function getStats() {\n        return this.track ? this._pc.getStats(this.track) : Promise.resolve(new Map());\n      };\n    }\n\n    function shimReceiverGetStats(window) {\n      if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n        return;\n      }\n      if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n        return;\n      }\n      var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n      if (origGetReceivers) {\n        window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n          var _this2 = this;\n\n          var receivers = origGetReceivers.apply(this, []);\n          receivers.forEach(function (receiver) {\n            return receiver._pc = _this2;\n          });\n          return receivers;\n        };\n      }\n      utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n        e.receiver._pc = e.srcElement;\n        return e;\n      });\n      window.RTCRtpReceiver.prototype.getStats = function getStats() {\n        return this._pc.getStats(this.track);\n      };\n    }\n\n    function shimRemoveStream(window) {\n      if (!window.RTCPeerConnection || 'removeStream' in window.RTCPeerConnection.prototype) {\n        return;\n      }\n      window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n        var _this3 = this;\n\n        utils.deprecated('removeStream', 'removeTrack');\n        this.getSenders().forEach(function (sender) {\n          if (sender.track && stream.getTracks().includes(sender.track)) {\n            _this3.removeTrack(sender);\n          }\n        });\n      };\n    }\n\n    function shimRTCDataChannel(window) {\n      // rename DataChannel to RTCDataChannel (native fix in FF60):\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n      if (window.DataChannel && !window.RTCDataChannel) {\n        window.RTCDataChannel = window.DataChannel;\n      }\n    }\n\n    function shimAddTransceiver(window) {\n      // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n      // Firefox ignores the init sendEncodings options passed to addTransceiver\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n      if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection)) {\n        return;\n      }\n      var origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n      if (origAddTransceiver) {\n        window.RTCPeerConnection.prototype.addTransceiver = function addTransceiver() {\n          this.setParametersPromises = [];\n          var initParameters = arguments[1];\n          var shouldPerformCheck = initParameters && 'sendEncodings' in initParameters;\n          if (shouldPerformCheck) {\n            // If sendEncodings params are provided, validate grammar\n            initParameters.sendEncodings.forEach(function (encodingParam) {\n              if ('rid' in encodingParam) {\n                var ridRegex = /^[a-z0-9]{0,16}$/i;\n                if (!ridRegex.test(encodingParam.rid)) {\n                  throw new TypeError('Invalid RID value provided.');\n                }\n              }\n              if ('scaleResolutionDownBy' in encodingParam) {\n                if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n                  throw new RangeError('scale_resolution_down_by must be >= 1.0');\n                }\n              }\n              if ('maxFramerate' in encodingParam) {\n                if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n                  throw new RangeError('max_framerate must be >= 0.0');\n                }\n              }\n            });\n          }\n          var transceiver = origAddTransceiver.apply(this, arguments);\n          if (shouldPerformCheck) {\n            // Check if the init options were applied. If not we do this in an\n            // asynchronous way and save the promise reference in a global object.\n            // This is an ugly hack, but at the same time is way more robust than\n            // checking the sender parameters before and after the createOffer\n            // Also note that after the createoffer we are not 100% sure that\n            // the params were asynchronously applied so we might miss the\n            // opportunity to recreate offer.\n            var sender = transceiver.sender;\n\n            var params = sender.getParameters();\n            if (!('encodings' in params) ||\n                // Avoid being fooled by patched getParameters() below.\n                params.encodings.length === 1 && Object.keys(params.encodings[0]).length === 0) {\n              params.encodings = initParameters.sendEncodings;\n              sender.sendEncodings = initParameters.sendEncodings;\n              this.setParametersPromises.push(sender.setParameters(params).then(function () {\n                delete sender.sendEncodings;\n              }).catch(function () {\n                delete sender.sendEncodings;\n              }));\n            }\n          }\n          return transceiver;\n        };\n      }\n    }\n\n    function shimGetParameters(window) {\n      if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCRtpSender)) {\n        return;\n      }\n      var origGetParameters = window.RTCRtpSender.prototype.getParameters;\n      if (origGetParameters) {\n        window.RTCRtpSender.prototype.getParameters = function getParameters() {\n          var params = origGetParameters.apply(this, arguments);\n          if (!('encodings' in params)) {\n            params.encodings = [].concat(this.sendEncodings || [{}]);\n          }\n          return params;\n        };\n      }\n    }\n\n    function shimCreateOffer(window) {\n      // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n      // Firefox ignores the init sendEncodings options passed to addTransceiver\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n      if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection)) {\n        return;\n      }\n      var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n      window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n        var _this4 = this,\n            _arguments2 = arguments;\n\n        if (this.setParametersPromises && this.setParametersPromises.length) {\n          return Promise.all(this.setParametersPromises).then(function () {\n            return origCreateOffer.apply(_this4, _arguments2);\n          }).finally(function () {\n            _this4.setParametersPromises = [];\n          });\n        }\n        return origCreateOffer.apply(this, arguments);\n      };\n    }\n\n    function shimCreateAnswer(window) {\n      // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n      // Firefox ignores the init sendEncodings options passed to addTransceiver\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n      if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection)) {\n        return;\n      }\n      var origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n      window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n        var _this5 = this,\n            _arguments3 = arguments;\n\n        if (this.setParametersPromises && this.setParametersPromises.length) {\n          return Promise.all(this.setParametersPromises).then(function () {\n            return origCreateAnswer.apply(_this5, _arguments3);\n          }).finally(function () {\n            _this5.setParametersPromises = [];\n          });\n        }\n        return origCreateAnswer.apply(this, arguments);\n      };\n    }\n\n  },{\"../utils\":11,\"./getdisplaymedia\":8,\"./getusermedia\":9}],8:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    /* eslint-env node */\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.shimGetDisplayMedia = shimGetDisplayMedia;\n    function shimGetDisplayMedia(window, preferredMediaSource) {\n      if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n        return;\n      }\n      if (!window.navigator.mediaDevices) {\n        return;\n      }\n      window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n        if (!(constraints && constraints.video)) {\n          var err = new DOMException('getDisplayMedia without video ' + 'constraints is undefined');\n          err.name = 'NotFoundError';\n          // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n          err.code = 8;\n          return Promise.reject(err);\n        }\n        if (constraints.video === true) {\n          constraints.video = { mediaSource: preferredMediaSource };\n        } else {\n          constraints.video.mediaSource = preferredMediaSource;\n        }\n        return window.navigator.mediaDevices.getUserMedia(constraints);\n      };\n    }\n\n  },{}],9:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    /* eslint-env node */\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n    exports.shimGetUserMedia = shimGetUserMedia;\n\n    var _utils = require('../utils');\n\n    var utils = _interopRequireWildcard(_utils);\n\n    function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n    function shimGetUserMedia(window, browserDetails) {\n      var navigator = window && window.navigator;\n      var MediaStreamTrack = window && window.MediaStreamTrack;\n\n      navigator.getUserMedia = function (constraints, onSuccess, onError) {\n        // Replace Firefox 44+'s deprecation warning with unprefixed version.\n        utils.deprecated('navigator.getUserMedia', 'navigator.mediaDevices.getUserMedia');\n        navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n      };\n\n      if (!(browserDetails.version > 55 && 'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n        var remap = function remap(obj, a, b) {\n          if (a in obj && !(b in obj)) {\n            obj[b] = obj[a];\n            delete obj[a];\n          }\n        };\n\n        var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n        navigator.mediaDevices.getUserMedia = function (c) {\n          if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object' && _typeof(c.audio) === 'object') {\n            c = JSON.parse(JSON.stringify(c));\n            remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n            remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n          }\n          return nativeGetUserMedia(c);\n        };\n\n        if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n          var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n          MediaStreamTrack.prototype.getSettings = function () {\n            var obj = nativeGetSettings.apply(this, arguments);\n            remap(obj, 'mozAutoGainControl', 'autoGainControl');\n            remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n            return obj;\n          };\n        }\n\n        if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n          var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n          MediaStreamTrack.prototype.applyConstraints = function (c) {\n            if (this.kind === 'audio' && (typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object') {\n              c = JSON.parse(JSON.stringify(c));\n              remap(c, 'autoGainControl', 'mozAutoGainControl');\n              remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n            }\n            return nativeApplyConstraints.apply(this, [c]);\n          };\n        }\n      }\n    }\n\n  },{\"../utils\":11}],10:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n    exports.shimLocalStreamsAPI = shimLocalStreamsAPI;\n    exports.shimRemoteStreamsAPI = shimRemoteStreamsAPI;\n    exports.shimCallbacksAPI = shimCallbacksAPI;\n    exports.shimGetUserMedia = shimGetUserMedia;\n    exports.shimConstraints = shimConstraints;\n    exports.shimRTCIceServerUrls = shimRTCIceServerUrls;\n    exports.shimTrackEventTransceiver = shimTrackEventTransceiver;\n    exports.shimCreateOfferLegacy = shimCreateOfferLegacy;\n    exports.shimAudioContext = shimAudioContext;\n\n    var _utils = require('../utils');\n\n    var utils = _interopRequireWildcard(_utils);\n\n    function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n    function shimLocalStreamsAPI(window) {\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !window.RTCPeerConnection) {\n        return;\n      }\n      if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n        window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n          if (!this._localStreams) {\n            this._localStreams = [];\n          }\n          return this._localStreams;\n        };\n      }\n      if (!('addStream' in window.RTCPeerConnection.prototype)) {\n        var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n          var _this = this;\n\n          if (!this._localStreams) {\n            this._localStreams = [];\n          }\n          if (!this._localStreams.includes(stream)) {\n            this._localStreams.push(stream);\n          }\n          // Try to emulate Chrome's behaviour of adding in audio-video order.\n          // Safari orders by track id.\n          stream.getAudioTracks().forEach(function (track) {\n            return _addTrack.call(_this, track, stream);\n          });\n          stream.getVideoTracks().forEach(function (track) {\n            return _addTrack.call(_this, track, stream);\n          });\n        };\n\n        window.RTCPeerConnection.prototype.addTrack = function addTrack(track) {\n          var _this2 = this;\n\n          for (var _len = arguments.length, streams = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            streams[_key - 1] = arguments[_key];\n          }\n\n          if (streams) {\n            streams.forEach(function (stream) {\n              if (!_this2._localStreams) {\n                _this2._localStreams = [stream];\n              } else if (!_this2._localStreams.includes(stream)) {\n                _this2._localStreams.push(stream);\n              }\n            });\n          }\n          return _addTrack.apply(this, arguments);\n        };\n      }\n      if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n        window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n          var _this3 = this;\n\n          if (!this._localStreams) {\n            this._localStreams = [];\n          }\n          var index = this._localStreams.indexOf(stream);\n          if (index === -1) {\n            return;\n          }\n          this._localStreams.splice(index, 1);\n          var tracks = stream.getTracks();\n          this.getSenders().forEach(function (sender) {\n            if (tracks.includes(sender.track)) {\n              _this3.removeTrack(sender);\n            }\n          });\n        };\n      }\n    }\n\n    function shimRemoteStreamsAPI(window) {\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !window.RTCPeerConnection) {\n        return;\n      }\n      if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n        window.RTCPeerConnection.prototype.getRemoteStreams = function getRemoteStreams() {\n          return this._remoteStreams ? this._remoteStreams : [];\n        };\n      }\n      if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n        Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n          get: function get() {\n            return this._onaddstream;\n          },\n          set: function set(f) {\n            var _this4 = this;\n\n            if (this._onaddstream) {\n              this.removeEventListener('addstream', this._onaddstream);\n              this.removeEventListener('track', this._onaddstreampoly);\n            }\n            this.addEventListener('addstream', this._onaddstream = f);\n            this.addEventListener('track', this._onaddstreampoly = function (e) {\n              e.streams.forEach(function (stream) {\n                if (!_this4._remoteStreams) {\n                  _this4._remoteStreams = [];\n                }\n                if (_this4._remoteStreams.includes(stream)) {\n                  return;\n                }\n                _this4._remoteStreams.push(stream);\n                var event = new Event('addstream');\n                event.stream = stream;\n                _this4.dispatchEvent(event);\n              });\n            });\n          }\n        });\n        var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n        window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n          var pc = this;\n          if (!this._onaddstreampoly) {\n            this.addEventListener('track', this._onaddstreampoly = function (e) {\n              e.streams.forEach(function (stream) {\n                if (!pc._remoteStreams) {\n                  pc._remoteStreams = [];\n                }\n                if (pc._remoteStreams.indexOf(stream) >= 0) {\n                  return;\n                }\n                pc._remoteStreams.push(stream);\n                var event = new Event('addstream');\n                event.stream = stream;\n                pc.dispatchEvent(event);\n              });\n            });\n          }\n          return origSetRemoteDescription.apply(pc, arguments);\n        };\n      }\n    }\n\n    function shimCallbacksAPI(window) {\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !window.RTCPeerConnection) {\n        return;\n      }\n      var prototype = window.RTCPeerConnection.prototype;\n      var origCreateOffer = prototype.createOffer;\n      var origCreateAnswer = prototype.createAnswer;\n      var setLocalDescription = prototype.setLocalDescription;\n      var setRemoteDescription = prototype.setRemoteDescription;\n      var addIceCandidate = prototype.addIceCandidate;\n\n      prototype.createOffer = function createOffer(successCallback, failureCallback) {\n        var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n        var promise = origCreateOffer.apply(this, [options]);\n        if (!failureCallback) {\n          return promise;\n        }\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n      };\n\n      prototype.createAnswer = function createAnswer(successCallback, failureCallback) {\n        var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n        var promise = origCreateAnswer.apply(this, [options]);\n        if (!failureCallback) {\n          return promise;\n        }\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n      };\n\n      var withCallback = function withCallback(description, successCallback, failureCallback) {\n        var promise = setLocalDescription.apply(this, [description]);\n        if (!failureCallback) {\n          return promise;\n        }\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n      };\n      prototype.setLocalDescription = withCallback;\n\n      withCallback = function withCallback(description, successCallback, failureCallback) {\n        var promise = setRemoteDescription.apply(this, [description]);\n        if (!failureCallback) {\n          return promise;\n        }\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n      };\n      prototype.setRemoteDescription = withCallback;\n\n      withCallback = function withCallback(candidate, successCallback, failureCallback) {\n        var promise = addIceCandidate.apply(this, [candidate]);\n        if (!failureCallback) {\n          return promise;\n        }\n        promise.then(successCallback, failureCallback);\n        return Promise.resolve();\n      };\n      prototype.addIceCandidate = withCallback;\n    }\n\n    function shimGetUserMedia(window) {\n      var navigator = window && window.navigator;\n\n      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n        // shim not needed in Safari 12.1\n        var mediaDevices = navigator.mediaDevices;\n        var _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n        navigator.mediaDevices.getUserMedia = function (constraints) {\n          return _getUserMedia(shimConstraints(constraints));\n        };\n      }\n\n      if (!navigator.getUserMedia && navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints).then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n\n    function shimConstraints(constraints) {\n      if (constraints && constraints.video !== undefined) {\n        return Object.assign({}, constraints, { video: utils.compactObject(constraints.video) });\n      }\n\n      return constraints;\n    }\n\n    function shimRTCIceServerUrls(window) {\n      if (!window.RTCPeerConnection) {\n        return;\n      }\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function RTCPeerConnection(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') && server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              delete server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if ('generateCertificate' in OrigPeerConnection) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function get() {\n            return OrigPeerConnection.generateCertificate;\n          }\n        });\n      }\n    }\n\n    function shimTrackEventTransceiver(window) {\n      // Add event.transceiver member over deprecated event.receiver\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) {\n        Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n          get: function get() {\n            return { receiver: this.receiver };\n          }\n        });\n      }\n    }\n\n    function shimCreateOfferLegacy(window) {\n      var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n      window.RTCPeerConnection.prototype.createOffer = function createOffer(offerOptions) {\n        if (offerOptions) {\n          if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n            // support bit values\n            offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;\n          }\n          var audioTransceiver = this.getTransceivers().find(function (transceiver) {\n            return transceiver.receiver.track.kind === 'audio';\n          });\n          if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n            if (audioTransceiver.direction === 'sendrecv') {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection('sendonly');\n              } else {\n                audioTransceiver.direction = 'sendonly';\n              }\n            } else if (audioTransceiver.direction === 'recvonly') {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection('inactive');\n              } else {\n                audioTransceiver.direction = 'inactive';\n              }\n            }\n          } else if (offerOptions.offerToReceiveAudio === true && !audioTransceiver) {\n            this.addTransceiver('audio');\n          }\n\n          if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n            // support bit values\n            offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;\n          }\n          var videoTransceiver = this.getTransceivers().find(function (transceiver) {\n            return transceiver.receiver.track.kind === 'video';\n          });\n          if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n            if (videoTransceiver.direction === 'sendrecv') {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection('sendonly');\n              } else {\n                videoTransceiver.direction = 'sendonly';\n              }\n            } else if (videoTransceiver.direction === 'recvonly') {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection('inactive');\n              } else {\n                videoTransceiver.direction = 'inactive';\n              }\n            }\n          } else if (offerOptions.offerToReceiveVideo === true && !videoTransceiver) {\n            this.addTransceiver('video');\n          }\n        }\n        return origCreateOffer.apply(this, arguments);\n      };\n    }\n\n    function shimAudioContext(window) {\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || window.AudioContext) {\n        return;\n      }\n      window.AudioContext = window.webkitAudioContext;\n    }\n\n  },{\"../utils\":11}],11:[function(require,module,exports){\n    /*\n     *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n     *\n     *  Use of this source code is governed by a BSD-style license\n     *  that can be found in the LICENSE file in the root of the source\n     *  tree.\n     */\n    /* eslint-env node */\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n    exports.extractVersion = extractVersion;\n    exports.wrapPeerConnectionEvent = wrapPeerConnectionEvent;\n    exports.disableLog = disableLog;\n    exports.disableWarnings = disableWarnings;\n    exports.log = log;\n    exports.deprecated = deprecated;\n    exports.detectBrowser = detectBrowser;\n    exports.compactObject = compactObject;\n    exports.walkStats = walkStats;\n    exports.filterStats = filterStats;\n\n    function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n    var logDisabled_ = true;\n    var deprecationWarnings_ = true;\n\n    /**\n     * Extract browser version out of the provided user agent string.\n     *\n     * @param {!string} uastring userAgent string.\n     * @param {!string} expr Regular expression used as match criteria.\n     * @param {!number} pos position in the version string to be returned.\n     * @return {!number} browser version.\n     */\n    function extractVersion(uastring, expr, pos) {\n      var match = uastring.match(expr);\n      return match && match.length >= pos && parseInt(match[pos], 10);\n    }\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\n    function wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n      if (!window.RTCPeerConnection) {\n        return;\n      }\n      var proto = window.RTCPeerConnection.prototype;\n      var nativeAddEventListener = proto.addEventListener;\n      proto.addEventListener = function (nativeEventName, cb) {\n        if (nativeEventName !== eventNameToWrap) {\n          return nativeAddEventListener.apply(this, arguments);\n        }\n        var wrappedCallback = function wrappedCallback(e) {\n          var modifiedEvent = wrapper(e);\n          if (modifiedEvent) {\n            if (cb.handleEvent) {\n              cb.handleEvent(modifiedEvent);\n            } else {\n              cb(modifiedEvent);\n            }\n          }\n        };\n        this._eventMap = this._eventMap || {};\n        if (!this._eventMap[eventNameToWrap]) {\n          this._eventMap[eventNameToWrap] = new Map();\n        }\n        this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n        return nativeAddEventListener.apply(this, [nativeEventName, wrappedCallback]);\n      };\n\n      var nativeRemoveEventListener = proto.removeEventListener;\n      proto.removeEventListener = function (nativeEventName, cb) {\n        if (nativeEventName !== eventNameToWrap || !this._eventMap || !this._eventMap[eventNameToWrap]) {\n          return nativeRemoveEventListener.apply(this, arguments);\n        }\n        if (!this._eventMap[eventNameToWrap].has(cb)) {\n          return nativeRemoveEventListener.apply(this, arguments);\n        }\n        var unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n        this._eventMap[eventNameToWrap].delete(cb);\n        if (this._eventMap[eventNameToWrap].size === 0) {\n          delete this._eventMap[eventNameToWrap];\n        }\n        if (Object.keys(this._eventMap).length === 0) {\n          delete this._eventMap;\n        }\n        return nativeRemoveEventListener.apply(this, [nativeEventName, unwrappedCb]);\n      };\n\n      Object.defineProperty(proto, 'on' + eventNameToWrap, {\n        get: function get() {\n          return this['_on' + eventNameToWrap];\n        },\n        set: function set(cb) {\n          if (this['_on' + eventNameToWrap]) {\n            this.removeEventListener(eventNameToWrap, this['_on' + eventNameToWrap]);\n            delete this['_on' + eventNameToWrap];\n          }\n          if (cb) {\n            this.addEventListener(eventNameToWrap, this['_on' + eventNameToWrap] = cb);\n          }\n        },\n\n        enumerable: true,\n        configurable: true\n      });\n    }\n\n    function disableLog(bool) {\n      if (typeof bool !== 'boolean') {\n        return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n      }\n      logDisabled_ = bool;\n      return bool ? 'adapter.js logging disabled' : 'adapter.js logging enabled';\n    }\n\n    /**\n     * Disable or enable deprecation warnings\n     * @param {!boolean} bool set to true to disable warnings.\n     */\n    function disableWarnings(bool) {\n      if (typeof bool !== 'boolean') {\n        return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n      }\n      deprecationWarnings_ = !bool;\n      return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n    }\n\n    function log() {\n      if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object') {\n        if (logDisabled_) {\n          return;\n        }\n        if (typeof console !== 'undefined' && typeof console.log === 'function') {\n          console.log.apply(console, arguments);\n        }\n      }\n    }\n\n    /**\n     * Shows a deprecation warning suggesting the modern and spec-compatible API.\n     */\n    function deprecated(oldMethod, newMethod) {\n      if (!deprecationWarnings_) {\n        return;\n      }\n      console.warn(oldMethod + ' is deprecated, please use ' + newMethod + ' instead.');\n    }\n\n    /**\n     * Browser detector.\n     *\n     * @return {object} result containing browser and version\n     *     properties.\n     */\n    function detectBrowser(window) {\n      // Returned result object.\n      var result = { browser: null, version: null };\n\n      // Fail early if it's not a browser\n      if (typeof window === 'undefined' || !window.navigator) {\n        result.browser = 'Not a browser.';\n        return result;\n      }\n\n      var navigator = window.navigator;\n\n\n      if (navigator.mozGetUserMedia) {\n        // Firefox.\n        result.browser = 'firefox';\n        result.version = extractVersion(navigator.userAgent, /Firefox\\/(\\d+)\\./, 1);\n      } else if (navigator.webkitGetUserMedia || window.isSecureContext === false && window.webkitRTCPeerConnection && !window.RTCIceGatherer) {\n        // Chrome, Chromium, Webview, Opera.\n        // Version matches Chrome/WebRTC version.\n        // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n        // more complicated fallback to webkitRTCPeerConnection.\n        result.browser = 'chrome';\n        result.version = extractVersion(navigator.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);\n      } else if (window.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        // Safari.\n        result.browser = 'safari';\n        result.version = extractVersion(navigator.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n        result.supportsUnifiedPlan = window.RTCRtpTransceiver && 'currentDirection' in window.RTCRtpTransceiver.prototype;\n      } else {\n        // Default fallthrough: not supported.\n        result.browser = 'Not a supported browser.';\n        return result;\n      }\n\n      return result;\n    }\n\n    /**\n     * Checks if something is an object.\n     *\n     * @param {*} val The something you want to check.\n     * @return true if val is an object, false otherwise.\n     */\n    function isObject(val) {\n      return Object.prototype.toString.call(val) === '[object Object]';\n    }\n\n    /**\n     * Remove all empty objects and undefined values\n     * from a nested object -- an enhanced and vanilla version\n     * of Lodash's `compact`.\n     */\n    function compactObject(data) {\n      if (!isObject(data)) {\n        return data;\n      }\n\n      return Object.keys(data).reduce(function (accumulator, key) {\n        var isObj = isObject(data[key]);\n        var value = isObj ? compactObject(data[key]) : data[key];\n        var isEmptyObject = isObj && !Object.keys(value).length;\n        if (value === undefined || isEmptyObject) {\n          return accumulator;\n        }\n        return Object.assign(accumulator, _defineProperty({}, key, value));\n      }, {});\n    }\n\n    /* iterates the stats graph recursively. */\n    function walkStats(stats, base, resultSet) {\n      if (!base || resultSet.has(base.id)) {\n        return;\n      }\n      resultSet.set(base.id, base);\n      Object.keys(base).forEach(function (name) {\n        if (name.endsWith('Id')) {\n          walkStats(stats, stats.get(base[name]), resultSet);\n        } else if (name.endsWith('Ids')) {\n          base[name].forEach(function (id) {\n            walkStats(stats, stats.get(id), resultSet);\n          });\n        }\n      });\n    }\n\n    /* filter getStats for a sender/receiver track. */\n    function filterStats(result, track, outbound) {\n      var streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n      var filteredResult = new Map();\n      if (track === null) {\n        return filteredResult;\n      }\n      var trackStats = [];\n      result.forEach(function (value) {\n        if (value.type === 'track' && value.trackIdentifier === track.id) {\n          trackStats.push(value);\n        }\n      });\n      trackStats.forEach(function (trackStat) {\n        result.forEach(function (stats) {\n          if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n            walkStats(result, stats, filteredResult);\n          }\n        });\n      });\n      return filteredResult;\n    }\n\n  },{}],12:[function(require,module,exports){\n    /* eslint-env node */\n    'use strict';\n\n// SDP helpers.\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n    var SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\n    SDPUtils.generateIdentifier = function () {\n      return Math.random().toString(36).substr(2, 10);\n    };\n\n// The RTCP CNAME used by all peerconnections from the same JS.\n    SDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\n    SDPUtils.splitLines = function (blob) {\n      return blob.trim().split('\\n').map(function (line) {\n        return line.trim();\n      });\n    };\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\n    SDPUtils.splitSections = function (blob) {\n      var parts = blob.split('\\nm=');\n      return parts.map(function (part, index) {\n        return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n      });\n    };\n\n// returns the session description.\n    SDPUtils.getDescription = function (blob) {\n      var sections = SDPUtils.splitSections(blob);\n      return sections && sections[0];\n    };\n\n// returns the individual media sections.\n    SDPUtils.getMediaSections = function (blob) {\n      var sections = SDPUtils.splitSections(blob);\n      sections.shift();\n      return sections;\n    };\n\n// Returns lines that start with a certain prefix.\n    SDPUtils.matchPrefix = function (blob, prefix) {\n      return SDPUtils.splitLines(blob).filter(function (line) {\n        return line.indexOf(prefix) === 0;\n      });\n    };\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\n    SDPUtils.parseCandidate = function (line) {\n      var parts = void 0;\n      // Parse both variants.\n      if (line.indexOf('a=candidate:') === 0) {\n        parts = line.substring(12).split(' ');\n      } else {\n        parts = line.substring(10).split(' ');\n      }\n\n      var candidate = {\n        foundation: parts[0],\n        component: { 1: 'rtp', 2: 'rtcp' }[parts[1]],\n        protocol: parts[2].toLowerCase(),\n        priority: parseInt(parts[3], 10),\n        ip: parts[4],\n        address: parts[4], // address is an alias for ip.\n        port: parseInt(parts[5], 10),\n        // skip parts[6] == 'typ'\n        type: parts[7]\n      };\n\n      for (var i = 8; i < parts.length; i += 2) {\n        switch (parts[i]) {\n          case 'raddr':\n            candidate.relatedAddress = parts[i + 1];\n            break;\n          case 'rport':\n            candidate.relatedPort = parseInt(parts[i + 1], 10);\n            break;\n          case 'tcptype':\n            candidate.tcpType = parts[i + 1];\n            break;\n          case 'ufrag':\n            candidate.ufrag = parts[i + 1]; // for backward compatibility.\n            candidate.usernameFragment = parts[i + 1];\n            break;\n          default:\n            // extension handling, in particular ufrag. Don't overwrite.\n            if (candidate[parts[i]] === undefined) {\n              candidate[parts[i]] = parts[i + 1];\n            }\n            break;\n        }\n      }\n      return candidate;\n    };\n\n// Translates a candidate object into SDP candidate attribute.\n    SDPUtils.writeCandidate = function (candidate) {\n      var sdp = [];\n      sdp.push(candidate.foundation);\n\n      var component = candidate.component;\n      if (component === 'rtp') {\n        sdp.push(1);\n      } else if (component === 'rtcp') {\n        sdp.push(2);\n      } else {\n        sdp.push(component);\n      }\n      sdp.push(candidate.protocol.toUpperCase());\n      sdp.push(candidate.priority);\n      sdp.push(candidate.address || candidate.ip);\n      sdp.push(candidate.port);\n\n      var type = candidate.type;\n      sdp.push('typ');\n      sdp.push(type);\n      if (type !== 'host' && candidate.relatedAddress && candidate.relatedPort) {\n        sdp.push('raddr');\n        sdp.push(candidate.relatedAddress);\n        sdp.push('rport');\n        sdp.push(candidate.relatedPort);\n      }\n      if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n        sdp.push('tcptype');\n        sdp.push(candidate.tcpType);\n      }\n      if (candidate.usernameFragment || candidate.ufrag) {\n        sdp.push('ufrag');\n        sdp.push(candidate.usernameFragment || candidate.ufrag);\n      }\n      return 'candidate:' + sdp.join(' ');\n    };\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\n    SDPUtils.parseIceOptions = function (line) {\n      return line.substr(14).split(' ');\n    };\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\n    SDPUtils.parseRtpMap = function (line) {\n      var parts = line.substr(9).split(' ');\n      var parsed = {\n        payloadType: parseInt(parts.shift(), 10) // was: id\n      };\n\n      parts = parts[0].split('/');\n\n      parsed.name = parts[0];\n      parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n      parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n      // legacy alias, got renamed back to channels in ORTC.\n      parsed.numChannels = parsed.channels;\n      return parsed;\n    };\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\n    SDPUtils.writeRtpMap = function (codec) {\n      var pt = codec.payloadType;\n      if (codec.preferredPayloadType !== undefined) {\n        pt = codec.preferredPayloadType;\n      }\n      var channels = codec.channels || codec.numChannels || 1;\n      return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate + (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n    };\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\n    SDPUtils.parseExtmap = function (line) {\n      var parts = line.substr(9).split(' ');\n      return {\n        id: parseInt(parts[0], 10),\n        direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n        uri: parts[1]\n      };\n    };\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\n    SDPUtils.writeExtmap = function (headerExtension) {\n      return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) + (headerExtension.direction && headerExtension.direction !== 'sendrecv' ? '/' + headerExtension.direction : '') + ' ' + headerExtension.uri + '\\r\\n';\n    };\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\n    SDPUtils.parseFmtp = function (line) {\n      var parsed = {};\n      var kv = void 0;\n      var parts = line.substr(line.indexOf(' ') + 1).split(';');\n      for (var j = 0; j < parts.length; j++) {\n        kv = parts[j].trim().split('=');\n        parsed[kv[0].trim()] = kv[1];\n      }\n      return parsed;\n    };\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\n    SDPUtils.writeFmtp = function (codec) {\n      var line = '';\n      var pt = codec.payloadType;\n      if (codec.preferredPayloadType !== undefined) {\n        pt = codec.preferredPayloadType;\n      }\n      if (codec.parameters && Object.keys(codec.parameters).length) {\n        var params = [];\n        Object.keys(codec.parameters).forEach(function (param) {\n          if (codec.parameters[param]) {\n            params.push(param + '=' + codec.parameters[param]);\n          } else {\n            params.push(param);\n          }\n        });\n        line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n      }\n      return line;\n    };\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\n    SDPUtils.parseRtcpFb = function (line) {\n      var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n      return {\n        type: parts.shift(),\n        parameter: parts.join(' ')\n      };\n    };\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\n    SDPUtils.writeRtcpFb = function (codec) {\n      var lines = '';\n      var pt = codec.payloadType;\n      if (codec.preferredPayloadType !== undefined) {\n        pt = codec.preferredPayloadType;\n      }\n      if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n        // FIXME: special handling for trr-int?\n        codec.rtcpFeedback.forEach(function (fb) {\n          lines += 'a=rtcp-fb:' + pt + ' ' + fb.type + (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') + '\\r\\n';\n        });\n      }\n      return lines;\n    };\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\n    SDPUtils.parseSsrcMedia = function (line) {\n      var sp = line.indexOf(' ');\n      var parts = {\n        ssrc: parseInt(line.substr(7, sp - 7), 10)\n      };\n      var colon = line.indexOf(':', sp);\n      if (colon > -1) {\n        parts.attribute = line.substr(sp + 1, colon - sp - 1);\n        parts.value = line.substr(colon + 1);\n      } else {\n        parts.attribute = line.substr(sp + 1);\n      }\n      return parts;\n    };\n\n    SDPUtils.parseSsrcGroup = function (line) {\n      var parts = line.substr(13).split(' ');\n      return {\n        semantics: parts.shift(),\n        ssrcs: parts.map(function (ssrc) {\n          return parseInt(ssrc, 10);\n        })\n      };\n    };\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\n    SDPUtils.getMid = function (mediaSection) {\n      var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n      if (mid) {\n        return mid.substr(6);\n      }\n    };\n\n    SDPUtils.parseFingerprint = function (line) {\n      var parts = line.substr(14).split(' ');\n      return {\n        algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n        value: parts[1]\n      };\n    };\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\n    SDPUtils.getDtlsParameters = function (mediaSection, sessionpart) {\n      var lines = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=fingerprint:');\n      // Note: a=setup line is ignored since we use the 'auto' role.\n      // Note2: 'algorithm' is not case sensitive except in Edge.\n      return {\n        role: 'auto',\n        fingerprints: lines.map(SDPUtils.parseFingerprint)\n      };\n    };\n\n// Serializes DTLS parameters to SDP.\n    SDPUtils.writeDtlsParameters = function (params, setupType) {\n      var sdp = 'a=setup:' + setupType + '\\r\\n';\n      params.fingerprints.forEach(function (fp) {\n        sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n      });\n      return sdp;\n    };\n\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\n    SDPUtils.parseCryptoLine = function (line) {\n      var parts = line.substr(9).split(' ');\n      return {\n        tag: parseInt(parts[0], 10),\n        cryptoSuite: parts[1],\n        keyParams: parts[2],\n        sessionParams: parts.slice(3)\n      };\n    };\n\n    SDPUtils.writeCryptoLine = function (parameters) {\n      return 'a=crypto:' + parameters.tag + ' ' + parameters.cryptoSuite + ' ' + (_typeof(parameters.keyParams) === 'object' ? SDPUtils.writeCryptoKeyParams(parameters.keyParams) : parameters.keyParams) + (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') + '\\r\\n';\n    };\n\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\n    SDPUtils.parseCryptoKeyParams = function (keyParams) {\n      if (keyParams.indexOf('inline:') !== 0) {\n        return null;\n      }\n      var parts = keyParams.substr(7).split('|');\n      return {\n        keyMethod: 'inline',\n        keySalt: parts[0],\n        lifeTime: parts[1],\n        mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n        mkiLength: parts[2] ? parts[2].split(':')[1] : undefined\n      };\n    };\n\n    SDPUtils.writeCryptoKeyParams = function (keyParams) {\n      return keyParams.keyMethod + ':' + keyParams.keySalt + (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') + (keyParams.mkiValue && keyParams.mkiLength ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength : '');\n    };\n\n// Extracts all SDES parameters.\n    SDPUtils.getCryptoParameters = function (mediaSection, sessionpart) {\n      var lines = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=crypto:');\n      return lines.map(SDPUtils.parseCryptoLine);\n    };\n\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\n    SDPUtils.getIceParameters = function (mediaSection, sessionpart) {\n      var ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-ufrag:')[0];\n      var pwd = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-pwd:')[0];\n      if (!(ufrag && pwd)) {\n        return null;\n      }\n      return {\n        usernameFragment: ufrag.substr(12),\n        password: pwd.substr(10)\n      };\n    };\n\n// Serializes ICE parameters to SDP.\n    SDPUtils.writeIceParameters = function (params) {\n      var sdp = 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' + 'a=ice-pwd:' + params.password + '\\r\\n';\n      if (params.iceLite) {\n        sdp += 'a=ice-lite\\r\\n';\n      }\n      return sdp;\n    };\n\n// Parses the SDP media section and returns RTCRtpParameters.\n    SDPUtils.parseRtpParameters = function (mediaSection) {\n      var description = {\n        codecs: [],\n        headerExtensions: [],\n        fecMechanisms: [],\n        rtcp: []\n      };\n      var lines = SDPUtils.splitLines(mediaSection);\n      var mline = lines[0].split(' ');\n      for (var i = 3; i < mline.length; i++) {\n        // find all codecs from mline[3..]\n        var pt = mline[i];\n        var rtpmapline = SDPUtils.matchPrefix(mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n        if (rtpmapline) {\n          var codec = SDPUtils.parseRtpMap(rtpmapline);\n          var fmtps = SDPUtils.matchPrefix(mediaSection, 'a=fmtp:' + pt + ' ');\n          // Only the first a=fmtp:<pt> is considered.\n          codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n          codec.rtcpFeedback = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:' + pt + ' ').map(SDPUtils.parseRtcpFb);\n          description.codecs.push(codec);\n          // parse FEC mechanisms from rtpmap lines.\n          switch (codec.name.toUpperCase()) {\n            case 'RED':\n            case 'ULPFEC':\n              description.fecMechanisms.push(codec.name.toUpperCase());\n              break;\n            default:\n              // only RED and ULPFEC are recognized as FEC mechanisms.\n              break;\n          }\n        }\n      }\n      SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function (line) {\n        description.headerExtensions.push(SDPUtils.parseExtmap(line));\n      });\n      // FIXME: parse rtcp.\n      return description;\n    };\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\n    SDPUtils.writeRtpDescription = function (kind, caps) {\n      var sdp = '';\n\n      // Build the mline.\n      sdp += 'm=' + kind + ' ';\n      sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n      sdp += ' UDP/TLS/RTP/SAVPF ';\n      sdp += caps.codecs.map(function (codec) {\n        if (codec.preferredPayloadType !== undefined) {\n          return codec.preferredPayloadType;\n        }\n        return codec.payloadType;\n      }).join(' ') + '\\r\\n';\n\n      sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n      sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n      // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n      caps.codecs.forEach(function (codec) {\n        sdp += SDPUtils.writeRtpMap(codec);\n        sdp += SDPUtils.writeFmtp(codec);\n        sdp += SDPUtils.writeRtcpFb(codec);\n      });\n      var maxptime = 0;\n      caps.codecs.forEach(function (codec) {\n        if (codec.maxptime > maxptime) {\n          maxptime = codec.maxptime;\n        }\n      });\n      if (maxptime > 0) {\n        sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n      }\n\n      if (caps.headerExtensions) {\n        caps.headerExtensions.forEach(function (extension) {\n          sdp += SDPUtils.writeExtmap(extension);\n        });\n      }\n      // FIXME: write fecMechanisms.\n      return sdp;\n    };\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\n    SDPUtils.parseRtpEncodingParameters = function (mediaSection) {\n      var encodingParameters = [];\n      var description = SDPUtils.parseRtpParameters(mediaSection);\n      var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n      var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n      // filter a=ssrc:... cname:, ignore PlanB-msid\n      var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n        return SDPUtils.parseSsrcMedia(line);\n      }).filter(function (parts) {\n        return parts.attribute === 'cname';\n      });\n      var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n      var secondarySsrc = void 0;\n\n      var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID').map(function (line) {\n        var parts = line.substr(17).split(' ');\n        return parts.map(function (part) {\n          return parseInt(part, 10);\n        });\n      });\n      if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n        secondarySsrc = flows[0][1];\n      }\n\n      description.codecs.forEach(function (codec) {\n        if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n          var encParam = {\n            ssrc: primarySsrc,\n            codecPayloadType: parseInt(codec.parameters.apt, 10)\n          };\n          if (primarySsrc && secondarySsrc) {\n            encParam.rtx = { ssrc: secondarySsrc };\n          }\n          encodingParameters.push(encParam);\n          if (hasRed) {\n            encParam = JSON.parse(JSON.stringify(encParam));\n            encParam.fec = {\n              ssrc: primarySsrc,\n              mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n            };\n            encodingParameters.push(encParam);\n          }\n        }\n      });\n      if (encodingParameters.length === 0 && primarySsrc) {\n        encodingParameters.push({\n          ssrc: primarySsrc\n        });\n      }\n\n      // we support both b=AS and b=TIAS but interpret AS as TIAS.\n      var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n      if (bandwidth.length) {\n        if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n          bandwidth = parseInt(bandwidth[0].substr(7), 10);\n        } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n          // use formula from JSEP to convert b=AS to TIAS value.\n          bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95 - 50 * 40 * 8;\n        } else {\n          bandwidth = undefined;\n        }\n        encodingParameters.forEach(function (params) {\n          params.maxBitrate = bandwidth;\n        });\n      }\n      return encodingParameters;\n    };\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\n    SDPUtils.parseRtcpParameters = function (mediaSection) {\n      var rtcpParameters = {};\n\n      // Gets the first SSRC. Note that with RTX there might be multiple\n      // SSRCs.\n      var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n        return SDPUtils.parseSsrcMedia(line);\n      }).filter(function (obj) {\n        return obj.attribute === 'cname';\n      })[0];\n      if (remoteSsrc) {\n        rtcpParameters.cname = remoteSsrc.value;\n        rtcpParameters.ssrc = remoteSsrc.ssrc;\n      }\n\n      // Edge uses the compound attribute instead of reducedSize\n      // compound is !reducedSize\n      var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n      rtcpParameters.reducedSize = rsize.length > 0;\n      rtcpParameters.compound = rsize.length === 0;\n\n      // parses the rtcp-mux attrіbute.\n      // Note that Edge does not support unmuxed RTCP.\n      var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n      rtcpParameters.mux = mux.length > 0;\n\n      return rtcpParameters;\n    };\n\n    SDPUtils.writeRtcpParameters = function (rtcpParameters) {\n      var sdp = '';\n      if (rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n      if (rtcpParameters.mux) {\n        sdp += 'a=rtcp-mux\\r\\n';\n      }\n      if (rtcpParameters.ssrc !== undefined && rtcpParameters.cname) {\n        sdp += 'a=ssrc:' + rtcpParameters.ssrc + ' cname:' + rtcpParameters.cname + '\\r\\n';\n      }\n      return sdp;\n    };\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\n    SDPUtils.parseMsid = function (mediaSection) {\n      var parts = void 0;\n      var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n      if (spec.length === 1) {\n        parts = spec[0].substr(7).split(' ');\n        return { stream: parts[0], track: parts[1] };\n      }\n      var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n        return SDPUtils.parseSsrcMedia(line);\n      }).filter(function (msidParts) {\n        return msidParts.attribute === 'msid';\n      });\n      if (planB.length > 0) {\n        parts = planB[0].value.split(' ');\n        return { stream: parts[0], track: parts[1] };\n      }\n    };\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\n    SDPUtils.parseSctpDescription = function (mediaSection) {\n      var mline = SDPUtils.parseMLine(mediaSection);\n      var maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n      var maxMessageSize = void 0;\n      if (maxSizeLine.length > 0) {\n        maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);\n      }\n      if (isNaN(maxMessageSize)) {\n        maxMessageSize = 65536;\n      }\n      var sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n      if (sctpPort.length > 0) {\n        return {\n          port: parseInt(sctpPort[0].substr(12), 10),\n          protocol: mline.fmt,\n          maxMessageSize: maxMessageSize\n        };\n      }\n      var sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n      if (sctpMapLines.length > 0) {\n        var parts = sctpMapLines[0].substr(10).split(' ');\n        return {\n          port: parseInt(parts[0], 10),\n          protocol: parts[1],\n          maxMessageSize: maxMessageSize\n        };\n      }\n    };\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\n    SDPUtils.writeSctpDescription = function (media, sctp) {\n      var output = [];\n      if (media.protocol !== 'DTLS/SCTP') {\n        output = ['m=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n', 'c=IN IP4 0.0.0.0\\r\\n', 'a=sctp-port:' + sctp.port + '\\r\\n'];\n      } else {\n        output = ['m=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n', 'c=IN IP4 0.0.0.0\\r\\n', 'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n'];\n      }\n      if (sctp.maxMessageSize !== undefined) {\n        output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n      }\n      return output.join('');\n    };\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\n    SDPUtils.generateSessionId = function () {\n      return Math.random().toString().substr(2, 21);\n    };\n\n// Write boiler plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\n    SDPUtils.writeSessionBoilerplate = function (sessId, sessVer, sessUser) {\n      var sessionId = void 0;\n      var version = sessVer !== undefined ? sessVer : 2;\n      if (sessId) {\n        sessionId = sessId;\n      } else {\n        sessionId = SDPUtils.generateSessionId();\n      }\n      var user = sessUser || 'thisisadapterortc';\n      // FIXME: sess-id should be an NTP timestamp.\n      return 'v=0\\r\\n' + 'o=' + user + ' ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' + 's=-\\r\\n' + 't=0 0\\r\\n';\n    };\n\n// Gets the direction from the mediaSection or the sessionpart.\n    SDPUtils.getDirection = function (mediaSection, sessionpart) {\n      // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n      var lines = SDPUtils.splitLines(mediaSection);\n      for (var i = 0; i < lines.length; i++) {\n        switch (lines[i]) {\n          case 'a=sendrecv':\n          case 'a=sendonly':\n          case 'a=recvonly':\n          case 'a=inactive':\n            return lines[i].substr(2);\n          default:\n            // FIXME: What should happen here?\n        }\n      }\n      if (sessionpart) {\n        return SDPUtils.getDirection(sessionpart);\n      }\n      return 'sendrecv';\n    };\n\n    SDPUtils.getKind = function (mediaSection) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var mline = lines[0].split(' ');\n      return mline[0].substr(2);\n    };\n\n    SDPUtils.isRejected = function (mediaSection) {\n      return mediaSection.split(' ', 2)[1] === '0';\n    };\n\n    SDPUtils.parseMLine = function (mediaSection) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var parts = lines[0].substr(2).split(' ');\n      return {\n        kind: parts[0],\n        port: parseInt(parts[1], 10),\n        protocol: parts[2],\n        fmt: parts.slice(3).join(' ')\n      };\n    };\n\n    SDPUtils.parseOLine = function (mediaSection) {\n      var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n      var parts = line.substr(2).split(' ');\n      return {\n        username: parts[0],\n        sessionId: parts[1],\n        sessionVersion: parseInt(parts[2], 10),\n        netType: parts[3],\n        addressType: parts[4],\n        address: parts[5]\n      };\n    };\n\n// a very naive interpretation of a valid SDP.\n    SDPUtils.isValidSDP = function (blob) {\n      if (typeof blob !== 'string' || blob.length === 0) {\n        return false;\n      }\n      var lines = SDPUtils.splitLines(blob);\n      for (var i = 0; i < lines.length; i++) {\n        if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n          return false;\n        }\n        // TODO: check the modifier a bit more.\n      }\n      return true;\n    };\n\n// Expose public methods.\n    if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object') {\n      module.exports = SDPUtils;\n    }\n  },{}]},{},[1])(1)\n});","(() => {\n    function easeInOutQuad(x) { return x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2; }\n\n    window.animate = async function(callback, duration) {\n        return new Promise(resolve => {\n            if (!duration) duration = 250;\n            let startTime = Date.now();\n\n            let f = () => {\n                let k = (Date.now() - startTime) / duration;\n                if (k < 1) {\n                    callback(k);\n                    requestAnimationFrame(f);\n                } else {\n                    callback(1);\n                    requestAnimationFrame(resolve);\n                }\n            };\n            requestAnimationFrame(f);\n        });\n    }\n\n\n    window.fadeIn = async function(el, duration) {\n        return new Promise(resolve => {\n            if (el.style.display === '' && el.style.opacity === '') return resolve();\n            if (!duration) duration = 250;\n            let startTime = Date.now();\n            el.style.display = null;\n            let f = () => {\n                let k = (Date.now() - startTime) / duration;\n                if (k < 1) {\n                    el.style.opacity = easeInOutQuad(k);\n                    requestAnimationFrame(f);\n                } else {\n                    el.style.opacity = null;\n                    resolve();\n                }\n            };\n            requestAnimationFrame(f);\n        });\n    }\n\n    window.fadeOut = async function(el, duration, hide) {\n        return new Promise(resolve => {\n            if (el.style.display === 'none') return resolve();\n            if (el.style.opacity === '0' && hide) {\n                el.style.display = 'none';\n                return resolve();\n            }\n            if (!duration) duration = 250;\n            let startTime = Date.now();\n            let f = () => {\n                let k = (Date.now() - startTime) / duration;\n                if (k < 1) {\n                    el.style.opacity = 1 - easeInOutQuad(k);\n                    requestAnimationFrame(f);\n                } else {\n                    el.style.opacity = 0;\n                    if (hide !== false) el.style.display = 'none';\n                    resolve();\n                }\n            };\n            requestAnimationFrame(f);\n        });\n    }\n\n\n    window.getScrollbarWidth = () => {\n        // Creating invisible container\n        const outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll'; // forcing scrollbar to appear\n        outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\n        document.body.appendChild(outer);\n\n        // Creating inner element and placing it in the container\n        const inner = document.createElement('div');\n        outer.appendChild(inner);\n\n        // Calculating difference between container's full width and the child width\n        const scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n\n        // Removing temporary elements from the DOM\n        outer.parentNode.removeChild(outer);\n\n        return scrollbarWidth;\n    }\n\n    window.disableBodyScrollbar = () => {\n        let scrollWidth = getScrollbarWidth();\n        document.body.style.overflow = 'hidden';\n        if (document.body.scrollHeight > document.body.clientHeight) {\n            document.body.style.paddingRight = scrollWidth + 'px';\n            let header = document.getElementById('header');\n            if (header !== null) header.style.paddingRight = scrollWidth + 'px';\n        }\n    }\n\n    window.enableBodyScrollbar = () => {\n        document.body.style.overflow = null;\n        document.body.style.paddingRight = null;\n        let header = document.getElementById('header');\n        if (header !== null) header.style.paddingRight = null;\n    }\n\n    window.prepareForm = (form) => {\n        let placeholders = form.getElementsByClassName('input-placeholder');\n        for (let i = 0; i < placeholders.length; i++) {\n            placeholders[i].classList.remove('shown');\n            let input = placeholders[i].querySelector('input');\n            if (input !== null) input.style.display = null;\n        }\n    }\n\n    window.showFormErrors = (form, data) => {\n        if (data.errors !== null && Object.keys(data.errors).length > 0) {\n            for (let p in data.errors) {\n                if (data.errors[p].length > 0) {\n                    let error = form.querySelector('.error[data-for=\"' + p + '\"]');\n                    if (error !== null) {\n                        error.textContent = data.errors[p][0];\n                        error.style.visibility = 'visible';\n                    }\n                }\n            }\n        }\n    }\n\n    window.clearFormErrors = (form) => {\n        let errors = form.getElementsByClassName('error');\n        for (let i = 0; i < errors.length; i++) {\n            errors[i].textContent = '';\n            errors[i].style.visibility = null;\n        }\n    }\n\n\n\n    class Countdown\n    {\n        constructor() {\n            this.targetTime = Date.now();\n            this.__updateHandler = null;\n            this.__task = setInterval(() => {\n                if (this.__updateHandler !== null) {\n                    this.__updateHandler(this.toString());\n                }\n            }, 1000);\n        }\n\n\n        onUpdate(handler) {\n            this.__updateHandler = handler;\n        }\n\n        setTargetTime(timestamp) {\n            this.targetTime = timestamp;\n        }\n\n        toString() {\n            let d = (this.targetTime - Date.now())/1000;\n            if (d < 0) return \"00:00\";\n            let days = Math.floor(d/(86400));\n            let hours = Math.floor((d - (86400 * days))/(3600));\n            let minutes = Math.floor((d - (86400 * days) - (3600 * hours))/60);\n            let seconds = Math.floor(d - (86400 * days) - (3600 * hours) - (60 * minutes));\n            let res = days > 0 ? days + (days > 1 ? 'days, ' : 'day, ') : '';\n            return res + hours.toString().padStart(2, '0')\n                + ':' + minutes.toString().padStart(2, '0')\n                + ':' + seconds.toString().padStart(2, '0');\n        }\n    }\n    window.Countdown = Countdown;\n\n\n})();\n\n\n\n","(()=>{\"use strict\";var A;!function(A){A.AUTH_REQUIRED=\"auth-required\",A.CONNECTED=\"connected\",A.AUTHORIZED=\"authorized\",A.DISCONNECTED=\"disconnected\",A.ACTIVE_VIDEO_SESSION=\"active-video-session\",A.VIDEO_SESSION_DETAILS=\"video-session-details\",A.VIDEO_STREAM_READY=\"video-stream-ready\",A.LOCAL_VIDEO_STREAM_READY=\"local-video-stream-ready\",A.REMOTE_VIDEO_STREAM_READY=\"remote-video-stream-ready\",A.VIDEO_SESSIONS_LIST=\"video-sessions-list\",A.COUNTRIES_LIST=\"countries-list\",A.HIGHLIGHT_MEMBERS=\"highlight-members\",A.ERROR_MESSAGE=\"error-message\",A.START_TALK=\"start-talk\",A.END_TALK=\"end-talk\"}(A||(A={}));const e=A,t=\"VS: \",i={info(...A){console.log(t,...A)},warn(...A){console.warn(t,...A)},error(...A){console.error(t,...A)}};class n{constructor(){this._ws=null,this._messagesHandler=null,this._connectHandler=null,this._disconnectHandler=null,this._queue=[]}setHost(A){this._host=A}connect(){i.info(\"Connecting to the signaling server\"),this._ws=new WebSocket(this._host),this._ws.onopen=()=>{i.info(\"Successfully connected to the signaling server\"),null!==this._connectHandler&&this._connectHandler()},this._ws.onmessage=A=>{if(null!==this._messagesHandler)try{this._messagesHandler(JSON.parse(A.data))}catch(A){i.error(\"Unable to parse incoming message: \",A)}},this._ws.onclose=A=>{null!==this._disconnectHandler&&this._disconnectHandler(),setTimeout((()=>{i.info(\"Connection to signaling server has been closed. Trying to reconnect...\"),this.connect()}),1e3)}}processQueue(){for(let A=0;A<this._queue.length;A++)this._ws.readyState==WebSocket.OPEN&&this.sendInternal(this._queue[A]);this._queue=[]}onConnect(A){this._connectHandler=A}onDisconnect(A){this._disconnectHandler=A}onMessage(A){this._messagesHandler=A}sendBinary(A){i.info(\">>> [Binary data]\",A.size),this._ws.send(A)}send(A){null!==this._ws&&this._ws.readyState===WebSocket.OPEN?this.sendInternal(A):this._queue.push(A)}sendSilent(A){null!==this._ws&&this._ws.send(JSON.stringify(A))}sendInternal(A){i.info(\">>>\",A.action),this._ws.send(JSON.stringify(A))}}var o;!function(A){A.CONFIGURATION=\"config\",A.AUTH=\"auth\",A.RTC_OFFER=\"rtc-offer\",A.RTC_ANSWER=\"rtc-answer\",A.RTC_ICE=\"rtc-ice\",A.CREATE_VIDEO_SESSION=\"create-video-session\",A.DELETE_VIDEO_SESSION=\"delete-video-session\",A.ACTIVE_VIDEO_SESSION=\"active-video-session\",A.VIDEO_SESSIONS_LIST=\"video-sessions-list\",A.COUNTRIES_LIST=\"countries-list\",A.VIDEO_SESSION_DETAILS=\"video-session-details\",A.VIDEO_SESSION_UPDATED=\"video-session-updated\",A.JOIN_VIDEO_SESSION=\"join-video-session\",A.LEAVE_VIDEO_SESSION=\"leave-video-session\",A.HIGHLIGHT_MEMBERS=\"highlight-members\",A.ERROR_MESSAGE=\"error-message\",A.START_TALK=\"start-talk\",A.END_TALK=\"end-talk\",A.RATE_TALK=\"rate-talk\",A.LEAVE_TALK=\"leave-talk\",A.RESTART_SERVER=\"restart-server\",A.LOGS=\"logs\"}(o||(o={}));const s=o;class a{constructor(){this._handlers=new Map}addEventHandler(A,e){this._handlers.has(A)||this._handlers.set(A,new Set),this._handlers.get(A).add(e)}dispatchEvent(A,e){if(this._handlers.has(A))for(let t of this._handlers.get(A))t(e)}}var r=function(A,e,t,i){return new(t||(t=Promise))((function(n,o){function s(A){try{r(i.next(A))}catch(A){o(A)}}function a(A){try{r(i.throw(A))}catch(A){o(A)}}function r(A){var e;A.done?n(A.value):(e=A.value,e instanceof t?e:new t((function(A){A(e)}))).then(s,a)}r((i=i.apply(A,e||[])).next())}))};class d{constructor(){this._recordedStream=null,this._canvas=document.createElement(\"canvas\"),this._localVideo=document.createElement(\"video\"),this._remoteVideo=document.createElement(\"video\"),this._onRecordedChunkReady=null,this._recorder=null,this._audioContext=null,this._isRecording=!1,this._localVideo.volume=0,this._remoteVideo.volume=0,this._remoteVideo.addEventListener(\"loadedmetadata\",(()=>{this._remoteVideo.play().catch((A=>i.error(\"Unable to play remote video:\",A)))}))}startRecording(A,e,t){return r(this,void 0,void 0,(function*(){let i=t;this._isRecording=!0,this._recordedStream=yield this.composeRecordedVideo(A,e),this._recorder=new MediaRecorder(this._recordedStream,{videoBitsPerSecond:102400,mimeType:\"video/webm; codecs=vp8,opus\"}),this._recorder.ondataavailable=A=>{null!==this._onRecordedChunkReady&&this._onRecordedChunkReady(A.data,i)},this._recorder.start(1e3)}))}stopRecording(){this._isRecording=!1,this._localVideo.srcObject=null,this._remoteVideo.srcObject=null,null!==this._recorder&&(this._recorder.stop(),this._recorder=null),null!==this._audioContext&&(this._audioContext.close().catch((A=>i.error(A))),this._audioContext=null),null!==this._recordedStream&&(this._recordedStream.getTracks().forEach((A=>A.stop())),this._recordedStream=null)}composeRecordedVideo(A,e){return new Promise((t=>r(this,void 0,void 0,(function*(){let i;this._localVideo.srcObject=null,this._remoteVideo.srcObject=null,this._remoteVideo.addEventListener(\"loadedmetadata\",(()=>{let n=this._canvas,o=n.getContext(\"2d\");n.width=Math.floor(this._remoteVideo.videoWidth/3),n.height=Math.floor(this._remoteVideo.videoHeight/3);let s=()=>{if(!this._localVideo.paused&&!this._localVideo.ended){let A=.35,e=this._localVideo,t=e.videoWidth-n.width>e.videoHeight-n.height?n.width/e.videoWidth:n.height/e.videoHeight,i=Math.round(e.videoWidth*A*t),a=Math.round(e.videoHeight*A*t);if(null!==this._remoteVideo){let A=this._remoteVideo,e=A.videoWidth-n.width>A.videoHeight-n.height?n.width/A.videoWidth:n.height/A.videoHeight;o.drawImage(this._remoteVideo,A.videoWidth-n.width>A.videoHeight-n.height?0:n.width/2-A.videoWidth*e/2,A.videoWidth-n.width>A.videoHeight-n.height?n.height/2-A.videoHeight*e/2:0,A.videoWidth*e,A.videoHeight*e)}else o.fillStyle=\"#000\",o.fillRect(0,0,n.width,n.height);o.drawImage(this._localVideo,n.width-i,n.height-a,i,a),this._isRecording&&setTimeout(s,1e3/30)}};if(s(),i=n.captureStream(30),void 0!==window.AudioContext){this._audioContext=new AudioContext;const t=this._audioContext.createMediaStreamSource(A),n=this._audioContext.createMediaStreamSource(e),o=this._audioContext.createMediaStreamDestination();t.connect(o),n.connect(o),o.stream.getAudioTracks().length>0&&i.addTrack(o.stream.getAudioTracks()[0])}else A.getAudioTracks().forEach((A=>i.addTrack(A)));t(i)}));let n=new MediaStream;A.getVideoTracks().forEach((A=>n.addTrack(A))),this._localVideo.srcObject=n,yield this._localVideo.play(),n=new MediaStream,e.getVideoTracks().forEach((A=>n.addTrack(A))),this._remoteVideo.srcObject=n,yield this._remoteVideo.play()}))))}onRecordedChunkReady(A){this._onRecordedChunkReady=A}}function c(A,e){return new Promise((t=>{let i=Date.now();if(!0===A())return t();let n=setInterval((()=>{(1==A()||void 0!==e&&Date.now()-i>e)&&(clearInterval(n),t())}),50)}))}var h=function(A,e,t,i){return new(t||(t=Promise))((function(n,o){function s(A){try{r(i.next(A))}catch(A){o(A)}}function a(A){try{r(i.throw(A))}catch(A){o(A)}}function r(A){var e;A.done?n(A.value):(e=A.value,e instanceof t?e:new t((function(A){A(e)}))).then(s,a)}r((i=i.apply(A,e||[])).next())}))};class l{constructor(A){this._connection=null,this._localStream=null,this._remoteStream=null,this._initiatesConnection=!1,this._iceCandidates=[],this._videoSender=null,this._audioSender=null,this._isMuted=!1,this._gettingLocalStream=!1,this._onLocalStreamReady=null,this._onAllStreamsReady=null,this._signalingServer=A,this.createLocalStream().catch((A=>i.error(A)))}mute(){this._audioSender.track.enabled=!1}unmute(){this._audioSender.track.enabled=!0}isInitiator(){return this._initiatesConnection}configure(A){null===this._connection?(this._connection=new RTCPeerConnection(A),this._connection.addEventListener(\"iceconnectionstatechange\",(()=>{\"failed\"===this._connection.iceConnectionState&&this._connection.restartIce()})),this._connection.onnegotiationneeded=()=>h(this,void 0,void 0,(function*(){if(i.info(\"Negotiation needed\"),this._initiatesConnection)try{let A=yield this._connection.createOffer();yield this._connection.setLocalDescription(A),this._signalingServer.send({action:s.RTC_OFFER,sdp:A.sdp})}catch(A){i.error(\"Unable to set local offer:\",A)}else this._connection.restartIce()})),this._connection.ontrack=A=>{A.track.onunmute=()=>{\"video\"===A.track.kind&&(this._remoteStream=A.streams[0],null!==this._onAllStreamsReady&&this._onAllStreamsReady(this._localStream,this._remoteStream))}},this._connection.onicecandidate=A=>{A.candidate&&this._signalingServer.send({action:s.RTC_ICE,ice:A.candidate})}):i.warn(\"Trying to configure peer connection when it's already configured.\")}initiateConnection(){return h(this,void 0,void 0,(function*(){this._initiatesConnection=!0,\"connected\"!==this._connection.connectionState?yield this.createLocalStream():i.info(\"Connection already established\")}))}reconnect(){null!==this._connection&&(i.info(\"Reconnecting...\"),this._connection.restartIce())}setRtcAnswer(A){return h(this,void 0,void 0,(function*(){try{yield this._connection.setRemoteDescription({type:\"answer\",sdp:A}),yield this.setCachedIceCandidates()}catch(A){i.error(\"Unable to set remote answer:\",A)}}))}setRtcOffer(A){return h(this,void 0,void 0,(function*(){yield this.createLocalStream();try{yield this._connection.setRemoteDescription({type:\"offer\",sdp:A}),yield this.setCachedIceCandidates();let e=yield this._connection.createAnswer();yield this._connection.setLocalDescription(e),this._signalingServer.send({action:s.RTC_ANSWER,sdp:e.sdp})}catch(A){i.error(\"Unable to set local answer:\",A)}}))}createLocalStream(){return new Promise((A=>h(this,void 0,void 0,(function*(){if(null===this._localStream){if(this._gettingLocalStream)return yield c((()=>!1===this._gettingLocalStream)),void A(this._localStream);if(this._gettingLocalStream=!0,i.info(\"Created local stream\"),this._localStream=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),null!==this._onLocalStreamReady&&this._onLocalStreamReady(this._localStream),null===this._connection)return A(this._localStream);this._localStream.getTracks().forEach((A=>{let e=this._connection.addTrack(A,this._localStream);\"audio\"===A.kind?(this._isMuted&&(e.track.enabled=!1),this._audioSender=e):this._videoSender=e})),this._gettingLocalStream=!1}else A(this._localStream)}))))}setRemoteIce(A){null===this._connection.remoteDescription?this._iceCandidates.push(A):this._connection.addIceCandidate(A).catch((A=>{i.error(\"Unable to set remote ice:\",A)}))}setCachedIceCandidates(){return h(this,void 0,void 0,(function*(){let A=[];for(let e=0;e<this._iceCandidates.length;e++)A.push(this._connection.addIceCandidate(this._iceCandidates[e]));yield Promise.all(A).catch((A=>i.error(\"Unable to set remote ice:\",A))),this._iceCandidates=[]}))}disconnect(){null!==this._localStream&&this._localStream.getTracks().forEach((A=>A.stop())),this._localStream=null,this._remoteStream=null,this._connection.close()}onLocalStreamReady(A){this._onLocalStreamReady=A}onAllStreamsReady(A){this._onAllStreamsReady=A}}const E=()=>\"undefined\"!=typeof navigator&&parseFloat((\"\"+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,\"\"])[1]).replace(\"undefined\",\"3_2\").replace(\"_\",\".\").replace(\"_\",\"\"))<10&&!window.MSStream,g=()=>\"wakeLock\"in navigator,S=new class{constructor(){if(this._enabled=!1,this._wakeLock=null,this.noSleepTimer=null,this.noSleepVideo=null,g()){const A=()=>{null!==this._wakeLock&&\"visible\"===document.visibilityState&&this.enable().catch((A=>i.error(A)))};document.addEventListener(\"visibilitychange\",A),document.addEventListener(\"fullscreenchange\",A)}else this.noSleepVideo=document.createElement(\"video\"),this.noSleepVideo.setAttribute(\"title\",\"No Sleep\"),this.noSleepVideo.setAttribute(\"playsinline\",\"\"),this.noSleepVideo.addEventListener(\"loadedmetadata\",(()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute(\"loop\",\"\"):this.noSleepVideo.addEventListener(\"timeupdate\",(()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}))})),this.addSourceToVideo(this.noSleepVideo,\"webm\",\"data:video/webm;base64,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\"),this.addSourceToVideo(this.noSleepVideo,\"mp4\",\"data:video/mp4;base64,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\")}addSourceToVideo(A,e,t){let i=document.createElement(\"source\");i.src=t,i.type=`video/${e}`,A.appendChild(i)}enable(){return g()?navigator.wakeLock.request(\"screen\").then((A=>{this._wakeLock=A,this._enabled=!0,i.info(\"Wake Lock active.\"),this._wakeLock.addEventListener(\"release\",(()=>{i.info(\"Wake Lock released.\")}))})).catch((A=>{this._enabled=!1,i.error(`${A.name}, ${A.message}`)})):E()?(this.disable(),i.warn(\"\\n                Wake enabled for older iOS devices. This can interrupt\\n                active or long-running network requests from completing successfully.\\n                See https://github.com/richtr/NoSleep.js/issues/15 for more details.\\n            \"),this.noSleepTimer=window.setInterval((()=>{document.hidden||(window.location.href=window.location.href.split(\"#\")[0],window.setTimeout(window.stop,0))}),15e3),this._enabled=!0,Promise.resolve()):this.noSleepVideo.play().then((A=>(this._enabled=!0,A))).catch((A=>{this._enabled=!1,i.error(A)}))}disable(){g()?(this._wakeLock&&this._wakeLock.release().catch((A=>i.error(A))),this._wakeLock=null):E()?null!==this.noSleepTimer&&(i.warn(\"Wake now disabled for older iOS devices.\"),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this._enabled=!1}};window.VideoSessionsManager=class extends a{constructor(){super(),this._signalingServer=null,this._videoProcessor=null,this._peerConfig=null,this._peerConnection=null,this._logIndex=0,this._userId=null,this._authorized=!1,this._isAdmin=!1,this._isTalking=!1,this._currentVideoId=null,this._lastVideoId=null,this._logsHijacking=!1,S.enable().catch((A=>i.error(A))),this.prepareVideoProcessor(),this.prepareSignalingServer()}setUserId(A){null==this._userId&&(this._userId=A)}prepareVideoProcessor(){this._videoProcessor=new d,this._videoProcessor.onRecordedChunkReady(((A,e)=>{let t=(new TextEncoder).encode(e),i=(n=t.length,Uint8Array.of((4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,(255&n)>>0));var n;let o=new Blob([i,t,A]);this._signalingServer.sendBinary(o)}))}prepareSignalingServer(){this._signalingServer=new n;let A=A=>{this._signalingServer.send({action:s.AUTH,payload:A})};this._signalingServer.onConnect((()=>{this.dispatchEvent(e.CONNECTED,A),this.dispatchEvent(e.AUTH_REQUIRED,A)})),this._signalingServer.onDisconnect((()=>{this._authorized=!1,this.dispatchEvent(e.DISCONNECTED)})),this._signalingServer.onMessage((A=>{this.handleSignalingMessage(A)}))}handleSignalingMessage(A){if(i.info(\"<<<\",A.action),A.action!==s.CONFIGURATION)if(A.action!==s.COUNTRIES_LIST)if(A.action!==s.VIDEO_SESSIONS_LIST){if(A.action===s.AUTH||this._authorized)switch(A.action){case s.AUTH:\"ok\"===A.payload.toLowerCase()&&(this._authorized=!0,this._isAdmin=A.isAdmin,this.dispatchEvent(e.AUTHORIZED,this._isAdmin));break;case s.ACTIVE_VIDEO_SESSION:this.dispatchEvent(e.ACTIVE_VIDEO_SESSION,A.videoSessionInfo);break;case s.VIDEO_SESSION_DETAILS:this.dispatchEvent(e.VIDEO_SESSION_DETAILS,A.videoSessionInfo);break;case s.HIGHLIGHT_MEMBERS:this.dispatchEvent(e.HIGHLIGHT_MEMBERS,{videoSessionId:A.videoSessionId,members:A.members});break;case s.ERROR_MESSAGE:this.dispatchEvent(e.ERROR_MESSAGE,A.message);break;case s.START_TALK:let t=!this._isTalking;this._isTalking=!0;let n=this._currentVideoId!==A.videoId;this._currentVideoId=A.videoId,this._lastVideoId=A.videoId,null!==this._peerConnection&&t?this._userId===A.initiator&&(n&&this._videoProcessor.stopRecording(),this._peerConnection.reconnect()):(this.createPeerConnection(),this._userId===A.initiator&&this._peerConnection.initiateConnection().catch((A=>i.error(A)))),this.dispatchEvent(e.START_TALK,this._userId===A.initiator);break;case s.END_TALK:this._isTalking=!1,this._currentVideoId=null,null!==this._peerConnection&&this._peerConnection.disconnect(),this._peerConnection=null,this._videoProcessor.stopRecording(),this.dispatchEvent(e.END_TALK);break;case s.RTC_OFFER:null===this._peerConnection&&this.createPeerConnection(),this._peerConnection.setRtcOffer(A.sdp);break;case s.RTC_ANSWER:null===this._peerConnection&&this.createPeerConnection(),this._peerConnection.setRtcAnswer(A.sdp);break;case s.RTC_ICE:null===this._peerConnection&&this.createPeerConnection(),this._peerConnection.setRemoteIce(A.ice);break;default:i.warn(\"Unacceptable action: \"+A.action)}}else this.dispatchEvent(e.VIDEO_SESSIONS_LIST,A.videoSessions);else this.dispatchEvent(e.COUNTRIES_LIST,A.countries);else A.logs&&this.hijackLogs()}leaveTalk(A){this._signalingServer.send({action:s.LEAVE_TALK,comment:A})}createPeerConnection(){this._peerConnection=new l(this._signalingServer),null===this._peerConfig&&i.error(\"RTCConfiguration is not set\"),this._peerConnection.configure(this._peerConfig),this._peerConnection.onLocalStreamReady((A=>{this.dispatchEvent(e.LOCAL_VIDEO_STREAM_READY,A)})),this._peerConnection.onAllStreamsReady(((A,t)=>{this._peerConnection.isInitiator()&&(this._videoProcessor.stopRecording(),this._videoProcessor.startRecording(A,t,this._currentVideoId).catch((A=>i.error(A)))),this.dispatchEvent(e.REMOTE_VIDEO_STREAM_READY,t)}))}connectToSignalingServer(A){this._signalingServer.setHost(A),this._signalingServer.connect()}configureRTCPeer(A){this._peerConfig=A,null!==this._peerConnection&&this._peerConnection.configure(A)}initiateConnection(){this._peerConnection.initiateConnection()}muteMicrophone(){this._peerConnection.mute()}unmuteMicrophone(){this._peerConnection.unmute()}isAuthorized(){return this._authorized}createVideoSession(A){this._signalingServer.send({action:s.CREATE_VIDEO_SESSION,videoSessionInfo:A})}deleteVideoSession(A){this._signalingServer.send({action:s.DELETE_VIDEO_SESSION,videoSessionId:A})}requestVideoSessionsListUpdate(){this._signalingServer.send({action:s.VIDEO_SESSIONS_LIST})}requestVideoSessionDetails(A){this._signalingServer.send({action:s.VIDEO_SESSION_DETAILS,videoSessionId:A})}joinVideoSession(A){this._signalingServer.send({action:s.JOIN_VIDEO_SESSION,videoSessionId:A})}leaveVideoSession(A){this._signalingServer.send({action:s.LEAVE_VIDEO_SESSION,videoSessionId:A})}onConnect(A){this.addEventHandler(e.CONNECTED,A)}onAuthorized(A){this.addEventHandler(e.AUTHORIZED,A)}onAuthRequired(A){this.addEventHandler(e.AUTH_REQUIRED,A)}onActiveVideoSession(A){this.addEventHandler(e.ACTIVE_VIDEO_SESSION,A)}onVideoStreamReady(A){this.addEventHandler(e.VIDEO_STREAM_READY,A)}onLocalVideoStreamReady(A){this.addEventHandler(e.LOCAL_VIDEO_STREAM_READY,A)}onRemoteVideoStreamReady(A){this.addEventHandler(e.REMOTE_VIDEO_STREAM_READY,A)}onCountriesListUpdate(A){this.addEventHandler(e.COUNTRIES_LIST,A)}onVideoSessionsListUpdate(A){this.addEventHandler(e.VIDEO_SESSIONS_LIST,A)}onVideoSessionDetails(A){this.addEventHandler(e.VIDEO_SESSION_DETAILS,A)}onHighlightMembers(A){this.addEventHandler(e.HIGHLIGHT_MEMBERS,A)}onErrorMessage(A){this.addEventHandler(e.ERROR_MESSAGE,A)}onStartTalk(A){this.addEventHandler(e.START_TALK,A)}onEndTalk(A){this.addEventHandler(e.END_TALK,A)}rateLastTalk(A){this._signalingServer.send({action:s.RATE_TALK,rate:A})}restartServer(){this._signalingServer.send({action:s.RESTART_SERVER})}hijackLogs(){return A=this,e=void 0,i=function*(){if(this._logsHijacking)return;this._logsHijacking=!0,yield c((()=>this._authorized));let A=console.log,e=console.warn,t=console.error;this.saveLogs(navigator.userAgent,\"\",1),console.log=(...e)=>{this.saveLogs(\"Log:   \"+e.join(\" \"),\"\",1),A.apply(console,e)},console.warn=(...A)=>{this.saveLogs(\"Warn:  \"+A.join(\" \"),\"\",1),e.apply(console,A)},console.error=(...A)=>{this.saveLogs(\"Error: \"+A.join(\" \"),\"\",1),t.apply(console,A)},window.onerror=(A,e,t)=>{this.saveLogs(A,e,t)}},new((t=void 0)||(t=Promise))((function(n,o){function s(A){try{r(i.next(A))}catch(A){o(A)}}function a(A){try{r(i.throw(A))}catch(A){o(A)}}function r(A){var e;A.done?n(A.value):(e=A.value,e instanceof t?e:new t((function(A){A(e)}))).then(s,a)}r((i=i.apply(A,e||[])).next())}));var A,e,t,i}saveLogs(A,e,t){this._signalingServer.sendSilent({action:s.LOGS,message:A,file:e,line:t,index:this._logIndex++})}}})();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["module","exports","r","e","n","t","o","i","f","u","a","Error","code","p","call","length","require","adapter","adapterFactory","window","undefined","Object","defineProperty","value","utils","_interopRequireWildcard","chromeShim","firefoxShim","safariShim","commonShim","sdp","obj","__esModule","newObj","key","prototype","hasOwnProperty","default","arguments","options","shimChrome","shimFirefox","shimSafari","logging","log","browserDetails","detectBrowser","extractVersion","disableLog","disableWarnings","browser","shimPeerConnection","version","browserShim","shimAddIceCandidateNullOrEmpty","shimGetUserMedia","shimMediaStream","shimOnTrack","shimAddTrackRemoveTrack","shimGetSendersWithDtmf","shimGetStats","shimSenderReceiverGetStats","fixNegotiationNeeded","shimRTCIceCandidate","shimConnectionState","shimMaxMessageSize","shimSendThrowTypeError","removeExtmapAllowMixed","shimRemoveStream","shimSenderGetStats","shimReceiverGetStats","shimRTCDataChannel","shimAddTransceiver","shimGetParameters","shimCreateOffer","shimCreateAnswer","shimRTCIceServerUrls","shimCreateOfferLegacy","shimCallbacksAPI","shimLocalStreamsAPI","shimRemoteStreamsAPI","shimTrackEventTransceiver","shimAudioContext","shimGetDisplayMedia","_typeof","Symbol","iterator","constructor","_getusermedia","enumerable","get","_getdisplaymedia","shimAddTrackRemoveTrackWithNative","_defineProperty","configurable","writable","MediaStream","webkitMediaStream","RTCPeerConnection","this","_ontrack","set","removeEventListener","addEventListener","origSetRemoteDescription","setRemoteDescription","_this","_ontrackpoly","stream","te","receiver","getReceivers","find","track","id","event","Event","transceiver","streams","dispatchEvent","getTracks","forEach","apply","wrapPeerConnectionEvent","shimSenderWithDtmf","pc","dtmf","_dtmf","kind","createDTMFSender","_pc","getSenders","_senders","slice","origAddTrack","addTrack","sender","push","origRemoveTrack","removeTrack","idx","indexOf","splice","origAddStream","addStream","_this2","origRemoveStream","removeStream","_this3","s","RTCRtpSender","origGetSenders","_this4","senders","origGetStats","getStats","_this5","_arguments","Array","selector","onSucc","onErr","fixChromeStats_","response","standardReport","result","report","standardStats","timestamp","type","localcandidate","remotecandidate","names","name","stat","makeMapStats","stats","Map","keys","map","successCallbackWrapper_","Promise","resolve","reject","then","RTCRtpReceiver","_this6","filterStats","origGetReceivers","_this7","receivers","srcElement","MediaStreamTrack","err","DOMException","getLocalStreams","_this8","_shimmedLocalStreams","streamId","_this9","existingSenders","newSenders","filter","newSender","concat","_this10","origGetLocalStreams","_this11","nativeStreams","_reverseStreams","_this12","_streams","newStream","_this13","signalingState","oldStream","method","nativeMethod","methodObj","_this14","args","description","desc","replaceInternalStreamId","origSetLocalDescription","setLocalDescription","replaceExternalStreamId","origLocalDescription","getOwnPropertyDescriptor","_this15","streamid","internalId","externalStream","internalStream","replace","RegExp","RTCSessionDescription","webkitRTCPeerConnection","RTCIceCandidate","target","getConfiguration","sdpSemantics","getSourceId","navigator","mediaDevices","getDisplayMedia","constraints","sourceId","widthSpecified","video","width","heightSpecified","height","frameRateSpecified","frameRate","mandatory","chromeMediaSource","chromeMediaSourceId","maxFrameRate","maxWidth","maxHeight","getUserMedia","console","error","constraintsToChrome_","c","optional","cc","ideal","exact","min","max","oldname_","prefix","charAt","toUpperCase","oc","mix","advanced","shimConstraints_","func","JSON","parse","stringify","audio","remap","b","face","facingMode","getSupportedFacingModeLies","getSupportedConstraints","matches","enumerateDevices","devices","dev","d","some","match","label","toLowerCase","includes","deviceId","shimError_","PermissionDeniedError","PermissionDismissedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","TabCaptureError","ScreenCaptureError","DeviceCaptureError","message","constraint","constraintName","toString","getUserMedia_","onSuccess","onError","webkitGetUserMedia","bind","origGetUserMedia","cs","getAudioTracks","getVideoTracks","stop","_sdp2","_interopRequireDefault","NativeRTCIceCandidate","candidate","substr","nativeCandidate","parsedCandidate","parseCandidate","augmentedCandidate","assign","toJSON","sdpMid","sdpMLineIndex","usernameFragment","_sctp","sctpInDescription","sections","splitSections","shift","mediaSection","mLine","parseMLine","protocol","getRemoteFirefoxVersion","parseInt","getCanSendMaxMessageSize","remoteIsFirefox","canSendMaxMessageSize","getMaxMessageSize","maxMessageSize","matchPrefix","isFirefox","canSendMMS","remoteMMS","Number","POSITIVE_INFINITY","Math","sctp","origCreateDataChannel","createDataChannel","dataChannel","wrapDcSend","channel","dc","origDataChannelSend","send","data","size","byteLength","readyState","TypeError","proto","completed","checking","iceConnectionState","_onconnectionstatechange","cb","origMethod","_connectionstatechangepoly","_lastConnectionState","connectionState","newEvent","nativeSRD","split","line","trim","join","nativeAddIceCandidate","addIceCandidate","RTCTrackEvent","mozRTCPeerConnection","modernStatsTypes","inboundrtp","outboundrtp","candidatepair","nativeGetStats","deprecated","DataChannel","RTCDataChannel","origAddTransceiver","addTransceiver","setParametersPromises","initParameters","shouldPerformCheck","sendEncodings","encodingParam","test","rid","parseFloat","scaleResolutionDownBy","RangeError","maxFramerate","params","getParameters","encodings","setParameters","catch","origGetParameters","origCreateOffer","createOffer","_arguments2","all","finally","origCreateAnswer","createAnswer","_arguments3","preferredMediaSource","mediaSource","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","shimConstraints","_localStreams","_addTrack","_len","_key","index","tracks","getRemoteStreams","_remoteStreams","_onaddstream","_onaddstreampoly","successCallback","failureCallback","promise","withCallback","_getUserMedia","errcb","compactObject","OrigPeerConnection","pcConfig","pcConstraints","iceServers","newIceServers","server","urls","url","generateCertificate","offerOptions","offerToReceiveAudio","audioTransceiver","getTransceivers","direction","setDirection","offerToReceiveVideo","videoTransceiver","AudioContext","webkitAudioContext","walkStats","logDisabled_","deprecationWarnings_","uastring","expr","pos","eventNameToWrap","wrapper","nativeAddEventListener","nativeEventName","wrappedCallback","modifiedEvent","handleEvent","_eventMap","nativeRemoveEventListener","has","unwrappedCb","delete","bool","oldMethod","newMethod","warn","mozGetUserMedia","userAgent","isSecureContext","RTCIceGatherer","supportsUnifiedPlan","RTCRtpTransceiver","isObject","val","reduce","accumulator","isObj","isEmptyObject","base","resultSet","endsWith","outbound","streamStatsType","filteredResult","trackStats","trackIdentifier","trackStat","trackId","SDPUtils","random","localCName","generateIdentifier","splitLines","blob","part","getDescription","getMediaSections","parts","foundation","substring","component","priority","ip","address","port","relatedAddress","relatedPort","tcpType","ufrag","writeCandidate","parseIceOptions","parseRtpMap","parsed","payloadType","clockRate","channels","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","parseSsrcGroup","semantics","ssrcs","getMid","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","parseCryptoLine","tag","cryptoSuite","keyParams","sessionParams","writeCryptoLine","writeCryptoKeyParams","parseCryptoKeyParams","keyMethod","keySalt","lifeTime","mkiValue","mkiLength","getCryptoParameters","getIceParameters","pwd","password","writeIceParameters","iceLite","parseRtpParameters","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","caps","maxptime","extension","parseRtpEncodingParameters","encodingParameters","hasRed","hasUlpfec","primarySsrc","secondarySsrc","flows","apt","encParam","codecPayloadType","rtx","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","writeRtcpParameters","parseMsid","spec","planB","msidParts","parseSctpDescription","maxSizeLine","isNaN","sctpPort","fmt","sctpMapLines","writeSctpDescription","media","output","generateSessionId","writeSessionBoilerplate","sessId","sessVer","sessUser","getDirection","getKind","isRejected","parseOLine","username","sessionId","sessionVersion","netType","addressType","isValidSDP","easeInOutQuad","x","pow","animate","async","callback","duration","startTime","Date","now","k","requestAnimationFrame","fadeIn","el","style","display","opacity","fadeOut","hide","getScrollbarWidth","outer","document","createElement","visibility","overflow","msOverflowStyle","body","appendChild","inner","scrollbarWidth","offsetWidth","parentNode","removeChild","disableBodyScrollbar","scrollWidth","scrollHeight","clientHeight","paddingRight","header","getElementById","enableBodyScrollbar","prepareForm","form","placeholders","getElementsByClassName","classList","remove","input","querySelector","showFormErrors","errors","textContent","clearFormErrors","Countdown","targetTime","__updateHandler","__task","setInterval","onUpdate","handler","setTargetTime","days","floor","hours","minutes","seconds","padStart","A","AUTH_REQUIRED","CONNECTED","AUTHORIZED","DISCONNECTED","ACTIVE_VIDEO_SESSION","VIDEO_SESSION_DETAILS","VIDEO_STREAM_READY","LOCAL_VIDEO_STREAM_READY","REMOTE_VIDEO_STREAM_READY","VIDEO_SESSIONS_LIST","COUNTRIES_LIST","HIGHLIGHT_MEMBERS","ERROR_MESSAGE","START_TALK","END_TALK","info","_ws","_messagesHandler","_connectHandler","_disconnectHandler","_queue","setHost","_host","connect","WebSocket","onopen","onmessage","onclose","setTimeout","processQueue","OPEN","sendInternal","onConnect","onDisconnect","onMessage","sendBinary","sendSilent","action","CONFIGURATION","AUTH","RTC_OFFER","RTC_ANSWER","RTC_ICE","CREATE_VIDEO_SESSION","DELETE_VIDEO_SESSION","VIDEO_SESSION_UPDATED","JOIN_VIDEO_SESSION","LEAVE_VIDEO_SESSION","RATE_TALK","LEAVE_TALK","RESTART_SERVER","LOGS","_handlers","addEventHandler","Set","add","next","throw","done","_recordedStream","_canvas","_localVideo","_remoteVideo","_onRecordedChunkReady","_recorder","_audioContext","_isRecording","volume","play","startRecording","composeRecordedVideo","MediaRecorder","videoBitsPerSecond","mimeType","ondataavailable","start","stopRecording","srcObject","close","getContext","videoWidth","videoHeight","paused","ended","round","drawImage","fillStyle","fillRect","captureStream","createMediaStreamSource","createMediaStreamDestination","onRecordedChunkReady","clearInterval","h","l","_connection","_localStream","_remoteStream","_initiatesConnection","_iceCandidates","_videoSender","_audioSender","_isMuted","_gettingLocalStream","_onLocalStreamReady","_onAllStreamsReady","_signalingServer","createLocalStream","mute","enabled","unmute","isInitiator","configure","restartIce","onnegotiationneeded","ontrack","onunmute","onicecandidate","ice","initiateConnection","reconnect","setRtcAnswer","setCachedIceCandidates","setRtcOffer","setRemoteIce","remoteDescription","disconnect","onLocalStreamReady","onAllStreamsReady","E","exec","MSStream","g","S","_enabled","_wakeLock","noSleepTimer","noSleepVideo","visibilityState","enable","setAttribute","currentTime","addSourceToVideo","src","wakeLock","request","disable","hidden","location","href","release","pause","VideoSessionsManager","super","_videoProcessor","_peerConfig","_peerConnection","_logIndex","_userId","_authorized","_isAdmin","_isTalking","_currentVideoId","_lastVideoId","_logsHijacking","prepareVideoProcessor","prepareSignalingServer","setUserId","TextEncoder","encode","Uint8Array","of","Blob","payload","handleSignalingMessage","isAdmin","videoSessionInfo","videoSessionId","members","videoId","initiator","createPeerConnection","videoSessions","countries","logs","hijackLogs","leaveTalk","comment","connectToSignalingServer","configureRTCPeer","muteMicrophone","unmuteMicrophone","isAuthorized","createVideoSession","deleteVideoSession","requestVideoSessionsListUpdate","requestVideoSessionDetails","joinVideoSession","leaveVideoSession","onAuthorized","onAuthRequired","onActiveVideoSession","onVideoStreamReady","onLocalVideoStreamReady","onRemoteVideoStreamReady","onCountriesListUpdate","onVideoSessionsListUpdate","onVideoSessionDetails","onHighlightMembers","onErrorMessage","onStartTalk","onEndTalk","rateLastTalk","rate","restartServer","saveLogs","onerror","file","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","prop"],"sourceRoot":""}